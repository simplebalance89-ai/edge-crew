<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Edge Finder — Crew Dashboard</title>
<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@700;900&family=Nunito:wght@400;600;700;800&display=swap" rel="stylesheet">
<style>
*{margin:0;padding:0;box-sizing:border-box;}
body{background:#0D0D1A;color:#fff;font-family:'Nunito',sans-serif;min-height:100vh;padding-bottom:70px;}

/* ===== TOP BAR ===== */
.topbar{
    display:flex;align-items:center;justify-content:space-between;
    padding:12px 24px;border-bottom:1px solid rgba(255,255,255,0.06);
    background:rgba(0,0,0,0.3);position:sticky;top:0;z-index:100;
    backdrop-filter:blur(12px);
}
.topbar-left{display:flex;align-items:center;gap:12px;}
.topbar-title{font-family:'Playfair Display',serif;font-size:18px;
    background:linear-gradient(135deg,#D4A017,#FFE082);-webkit-background-clip:text;-webkit-text-fill-color:transparent;}
.topbar-date{font-size:12px;color:rgba(255,255,255,0.3);}
.crew{display:flex;gap:8px;}
.crew-badge{padding:4px 10px;border-radius:20px;font-size:11px;font-weight:700;letter-spacing:0.5px;}
.crew-peter{background:rgba(212,160,23,0.15);color:#D4A017;border:1px solid rgba(212,160,23,0.3);}
.crew-chinny{background:rgba(16,185,129,0.15);color:#10B981;border:1px solid rgba(16,185,129,0.3);}
.crew-jimmy{background:rgba(96,165,250,0.15);color:#60A5FA;border:1px solid rgba(96,165,250,0.3);}
.crew-sintonia{background:rgba(167,139,250,0.15);color:#A78BFA;border:1px solid rgba(167,139,250,0.3);}
.sweep-time{font-size:11px;color:rgba(255,255,255,0.25);text-align:right;}

/* ===== SPORT TABS ===== */
.sport-tabs{
    display:flex;gap:0;padding:0 24px;background:rgba(0,0,0,0.2);
    border-bottom:1px solid rgba(255,255,255,0.06);overflow-x:auto;
}
.sport-tab{
    padding:12px 28px;font-size:13px;font-weight:700;letter-spacing:1px;
    text-transform:uppercase;color:rgba(255,255,255,0.3);cursor:pointer;
    border-bottom:3px solid transparent;transition:all 0.2s;white-space:nowrap;
}
.sport-tab:hover{color:rgba(255,255,255,0.6);}
.sport-tab.active{color:#fff;border-bottom-color:#D4A017;}
.sport-tab .tab-count{
    display:inline-block;margin-left:6px;padding:2px 6px;border-radius:10px;
    font-size:10px;background:rgba(255,255,255,0.08);color:rgba(255,255,255,0.4);
}
.sport-tab.active .tab-count{background:rgba(212,160,23,0.2);color:#D4A017;}

/* ===== CONTENT ===== */
.content{max-width:1100px;margin:0 auto;padding:24px;}
.sport-panel{display:none;}
.sport-panel.active{display:block;}

/* ===== GOTCHA BANNER ===== */
.gotcha-banner{
    background:rgba(239,68,68,0.06);border:1px solid rgba(239,68,68,0.2);
    border-radius:12px;padding:16px 20px;margin-bottom:24px;
}
.gotcha-banner h3{color:#EF4444;font-family:'Playfair Display',serif;font-size:16px;margin-bottom:10px;}
.gotcha-banner li{color:rgba(255,255,255,0.6);font-size:13px;margin-bottom:6px;line-height:1.5;}

/* ===== GAME ROWS ===== */
.game-row{
    background:rgba(255,255,255,0.02);border:1px solid rgba(255,255,255,0.06);
    border-radius:12px;padding:0;margin-bottom:12px;overflow:hidden;
    transition:all 0.2s;cursor:pointer;
}
.game-row:hover{border-color:rgba(212,160,23,0.3);background:rgba(255,255,255,0.03);}
.game-row.expanded{border-color:rgba(212,160,23,0.4);}
.game-row.pass{opacity:0.4;}
.game-row.pass:hover{opacity:0.7;}
.game-row.checked{border-color:rgba(16,185,129,0.5);background:rgba(16,185,129,0.04);}

/* ===== CHECKBOXES ===== */
.pick-check{
    width:22px;height:22px;border-radius:6px;border:2px solid rgba(255,255,255,0.15);
    background:transparent;cursor:pointer;transition:all 0.2s;flex-shrink:0;
    display:flex;align-items:center;justify-content:center;
}
.pick-check:hover{border-color:rgba(212,160,23,0.5);}
.pick-check.on{background:#10B981;border-color:#10B981;}
.pick-check.on::after{content:'';display:block;width:6px;height:10px;border:solid #000;border-width:0 2.5px 2.5px 0;transform:rotate(45deg);margin-top:-2px;}

/* ===== SIDE SELECTOR ===== */
.side-select{
    display:flex;gap:4px;margin-left:8px;
}
.side-btn{
    padding:4px 10px;border-radius:6px;font-size:11px;font-weight:700;
    border:1px solid rgba(255,255,255,0.1);background:transparent;
    color:rgba(255,255,255,0.4);cursor:pointer;transition:all 0.2s;
}
.side-btn:hover{border-color:rgba(212,160,23,0.4);color:rgba(255,255,255,0.7);}
.side-btn.picked{background:rgba(212,160,23,0.2);border-color:#D4A017;color:#D4A017;}

/* ===== SUBMIT BAR ===== */
.submit-bar{
    position:fixed;bottom:0;left:0;right:0;
    background:rgba(13,13,26,0.95);backdrop-filter:blur(12px);
    border-top:1px solid rgba(212,160,23,0.3);
    padding:12px 24px;display:flex;align-items:center;justify-content:space-between;
    transform:translateY(100%);transition:transform 0.3s ease;z-index:200;
}
.submit-bar.visible{transform:translateY(0);}
.submit-count{font-size:14px;color:rgba(255,255,255,0.6);}
.submit-count strong{color:#D4A017;}
.submit-btn{
    padding:10px 32px;border-radius:24px;border:none;
    background:linear-gradient(135deg,#D4A017,#B8860B);color:#0D0D1A;
    font-family:'Nunito',sans-serif;font-size:14px;font-weight:800;
    cursor:pointer;transition:all 0.2s;letter-spacing:0.5px;
}
.submit-btn:hover{transform:scale(1.05);box-shadow:0 4px 20px rgba(212,160,23,0.4);}

/* ===== LOCKED CARD MODAL ===== */
.modal-overlay{
    position:fixed;top:0;left:0;right:0;bottom:0;
    background:rgba(0,0,0,0.8);backdrop-filter:blur(8px);
    display:none;align-items:center;justify-content:center;z-index:300;
    padding:24px;
}
.modal-overlay.show{display:flex;}
.modal{
    background:#0D0D1A;border:1px solid rgba(212,160,23,0.3);border-radius:16px;
    padding:32px;max-width:700px;width:100%;max-height:80vh;overflow-y:auto;
}
.modal h2{font-family:'Playfair Display',serif;color:#D4A017;margin-bottom:4px;}
.modal .modal-sub{font-size:12px;color:rgba(255,255,255,0.3);margin-bottom:20px;}
.modal table{width:100%;border-collapse:collapse;}
.modal th{text-align:left;padding:8px;font-size:11px;color:#D4A017;text-transform:uppercase;letter-spacing:1px;border-bottom:1px solid rgba(255,255,255,0.08);}
.modal td{padding:8px;font-size:14px;color:rgba(255,255,255,0.8);border-bottom:1px solid rgba(255,255,255,0.04);}
.modal-close{
    margin-top:20px;padding:10px 24px;border-radius:8px;border:1px solid rgba(255,255,255,0.1);
    background:transparent;color:#fff;font-family:'Nunito',sans-serif;font-size:13px;
    cursor:pointer;
}
.modal-close:hover{border-color:rgba(255,255,255,0.3);}

.game-header{
    display:grid;grid-template-columns:30px 60px 1fr 100px 80px 60px 1fr;
    align-items:center;padding:14px 20px;gap:12px;
}
.game-time{font-size:12px;color:rgba(255,255,255,0.4);font-weight:600;}
.game-matchup{font-family:'Playfair Display',serif;font-size:16px;font-weight:700;}
.game-matchup .away{color:rgba(255,255,255,0.5);}
.game-matchup .home{color:#fff;}
.game-spread{font-size:14px;font-weight:700;color:#D4A017;text-align:center;}
.game-total{font-size:13px;color:rgba(255,255,255,0.4);text-align:center;}
.game-grade{text-align:center;}
.game-edge{font-size:12px;color:rgba(255,255,255,0.5);line-height:1.4;}

.grade{display:inline-block;padding:4px 10px;border-radius:6px;font-weight:800;font-size:12px;}
.ga{background:#10B981;color:#000;} .gam{background:#10B981;color:#000;}
.gbp{background:#2563EB;color:#fff;} .gb{background:#3B82F6;color:#fff;} .gbm{background:#3B82F6;color:#fff;}
.gc{background:#F59E0B;color:#000;} .gcm{background:#F59E0B;color:#000;}
.gd{background:#EF4444;color:#fff;} .gf{background:#7F1D1D;color:#fff;}

/* ===== EXPANDED DETAIL ===== */
.game-detail{
    display:none;padding:0 20px 16px;border-top:1px solid rgba(255,255,255,0.04);
}
.game-row.expanded .game-detail{display:block;}
.detail-grid{display:grid;grid-template-columns:1fr 1fr;gap:16px;margin-top:12px;}
.detail-box{background:rgba(255,255,255,0.02);border-radius:8px;padding:14px;}
.detail-box h4{font-size:11px;text-transform:uppercase;letter-spacing:1.5px;margin-bottom:8px;}
.detail-box.peter h4{color:#D4A017;}
.detail-box.chinny h4{color:#10B981;}
.detail-box.trends h4{color:#A78BFA;}
.detail-box.flags h4{color:#EF4444;}
.detail-box li,.detail-box p{font-size:13px;color:rgba(255,255,255,0.6);margin-bottom:4px;line-height:1.5;}

/* ===== TAGS ===== */
.tag{display:inline-block;padding:2px 8px;border-radius:4px;font-size:10px;font-weight:700;margin-right:4px;}
.tag-b2b{background:rgba(245,158,11,0.15);color:#F59E0B;}
.tag-rust{background:rgba(167,139,250,0.15);color:#A78BFA;}
.tag-trap{background:rgba(239,68,68,0.15);color:#EF4444;}
.tag-home{background:rgba(16,185,129,0.15);color:#10B981;}
.tag-upset{background:rgba(212,160,23,0.15);color:#D4A017;}

/* ===== UPSET SPECIALS ===== */
.upset-section{
    margin-top:24px;background:rgba(212,160,23,0.04);border:1px solid rgba(212,160,23,0.15);
    border-radius:12px;padding:20px;
}
.upset-section h3{font-family:'Playfair Display',serif;color:#D4A017;font-size:16px;margin-bottom:12px;}
.upset-row{display:grid;grid-template-columns:1fr 80px 2fr 60px;align-items:center;padding:8px 0;border-bottom:1px solid rgba(255,255,255,0.04);}
.upset-row:last-child{border-bottom:none;}
.upset-dog{font-weight:700;font-size:14px;}
.upset-ml{color:#10B981;font-weight:800;font-size:14px;text-align:center;}
.upset-thesis{font-size:13px;color:rgba(255,255,255,0.5);}

/* ===== PETER INPUT ===== */
.input-section{
    margin-top:24px;background:rgba(212,160,23,0.04);border:2px dashed rgba(212,160,23,0.25);
    border-radius:12px;padding:20px;
}
.input-section h3{font-family:'Playfair Display',serif;color:#D4A017;font-size:16px;margin-bottom:8px;}
.input-section p{font-size:13px;color:rgba(255,255,255,0.4);line-height:1.6;}

/* ===== COMBINED VIEW ===== */
.combined-header{display:flex;align-items:center;justify-content:space-between;margin-bottom:16px;}
.combined-header h2{font-family:'Playfair Display',serif;font-size:20px;}
.combined-stat{display:flex;gap:16px;}
.stat-pill{padding:6px 14px;border-radius:20px;font-size:12px;font-weight:700;background:rgba(255,255,255,0.04);color:rgba(255,255,255,0.5);}

/* ===== SUBMIT PICK FORM ===== */
.pick-form{max-width:600px;margin:0 auto;}
.pick-form h2{font-family:'Playfair Display',serif;font-size:22px;margin-bottom:4px;
    background:linear-gradient(135deg,#D4A017,#FFE082);-webkit-background-clip:text;-webkit-text-fill-color:transparent;}
.pick-form .form-sub{font-size:13px;color:rgba(255,255,255,0.4);margin-bottom:24px;}
.form-group{margin-bottom:16px;}
.form-group label{display:block;font-size:12px;font-weight:700;color:rgba(255,255,255,0.5);
    text-transform:uppercase;letter-spacing:1px;margin-bottom:6px;}
.form-group input,.form-group select,.form-group textarea{
    width:100%;padding:12px 16px;border-radius:10px;border:1px solid rgba(255,255,255,0.1);
    background:rgba(255,255,255,0.04);color:#fff;font-family:'Nunito',sans-serif;font-size:14px;
    transition:border-color 0.2s;
}
.form-group input:focus,.form-group select:focus,.form-group textarea:focus{
    outline:none;border-color:rgba(212,160,23,0.5);
}
.form-group select{appearance:none;cursor:pointer;}
.form-group select option{background:#0D0D1A;color:#fff;}
.form-group textarea{resize:vertical;min-height:60px;}
.form-row{display:grid;grid-template-columns:1fr 1fr;gap:12px;}
.confidence-btns{display:flex;gap:8px;}
.conf-btn{padding:8px 16px;border-radius:8px;border:1px solid rgba(255,255,255,0.1);
    background:transparent;color:rgba(255,255,255,0.4);font-family:'Nunito',sans-serif;
    font-size:13px;font-weight:700;cursor:pointer;transition:all 0.2s;flex:1;text-align:center;}
.conf-btn:hover{border-color:rgba(212,160,23,0.4);color:rgba(255,255,255,0.7);}
.conf-btn.active{background:rgba(212,160,23,0.2);border-color:#D4A017;color:#D4A017;}
.submit-pick-btn{
    width:100%;padding:14px;border-radius:12px;border:none;margin-top:8px;
    background:linear-gradient(135deg,#D4A017,#B8860B);color:#0D0D1A;
    font-family:'Nunito',sans-serif;font-size:16px;font-weight:800;
    cursor:pointer;transition:all 0.2s;letter-spacing:0.5px;
}
.submit-pick-btn:hover{transform:scale(1.02);box-shadow:0 4px 20px rgba(212,160,23,0.4);}
.pick-history{margin-top:32px;}
.pick-history h3{font-family:'Playfair Display',serif;font-size:16px;color:#D4A017;margin-bottom:12px;}
.pick-card{background:rgba(255,255,255,0.02);border:1px solid rgba(255,255,255,0.06);
    border-radius:10px;padding:14px 18px;margin-bottom:8px;display:flex;justify-content:space-between;align-items:center;}
.pick-card .pick-main{font-size:14px;font-weight:700;}
.pick-card .pick-meta{font-size:12px;color:rgba(255,255,255,0.4);}
.pick-card .pick-conf{font-size:11px;font-weight:700;padding:4px 10px;border-radius:6px;}
.pick-conf.fire{background:rgba(239,68,68,0.15);color:#EF4444;}
.pick-conf.strong{background:rgba(212,160,23,0.15);color:#D4A017;}
.pick-conf.lean{background:rgba(96,165,250,0.15);color:#60A5FA;}
.toast{position:fixed;top:20px;left:50%;transform:translateX(-50%) translateY(-100px);
    background:#10B981;color:#000;font-weight:800;font-size:14px;padding:12px 28px;
    border-radius:12px;z-index:999;transition:transform 0.3s ease;pointer-events:none;}
.toast.show{transform:translateX(-50%) translateY(0);}

/* ===== FOOTER ===== */
.footer{
    text-align:center;padding:32px 24px;margin-top:32px;
    border-top:1px solid rgba(255,255,255,0.06);
    color:rgba(255,255,255,0.2);font-size:11px;
}

/* ===== RESPONSIVE ===== */
@media(max-width:768px){
    .game-header{grid-template-columns:26px 50px 1fr 70px 60px;gap:8px;}
    .game-total,.game-edge{display:none;}
    .detail-grid{grid-template-columns:1fr;}
    .topbar{flex-wrap:wrap;gap:8px;}
    .crew{flex-wrap:wrap;}
    .upset-row{grid-template-columns:1fr 60px 1fr 50px;}
    .side-select{flex-wrap:wrap;}
}
</style>
</head>
<body>

<!-- TOP BAR -->
<div class="topbar">
    <div class="topbar-left">
        <div class="topbar-title">Edge Finder</div>
        <div class="topbar-date">Wed, Feb 25, 2026 | PRELIMINARY</div>
    </div>
    <div class="crew">
        <span class="crew-badge crew-peter">Peter</span>
        <span class="crew-badge crew-chinny">Chinny</span>
        <span class="crew-badge crew-jimmy">Jimmy</span>
        <span class="crew-badge crew-sintonia">Sinton.ia</span>
    </div>
    <div class="sweep-time">Last sweep: 11:45 PM PST<br>Next: Noon PST</div>
</div>

<!-- SPORT TABS -->
<div class="sport-tabs">
    <div class="sport-tab active" onclick="switchSport('submit')" style="color:#10B981;">SUBMIT PICK</div>
    <div class="sport-tab" onclick="switchSport('nba')">NBA <span class="tab-count">6</span></div>
    <div class="sport-tab" onclick="switchSport('nhl')">NHL <span class="tab-count">8</span></div>
    <div class="sport-tab" onclick="switchSport('soccer')">Soccer <span class="tab-count">0</span></div>
    <div class="sport-tab" onclick="switchSport('mma')">MMA <span class="tab-count">0</span></div>
    <div class="sport-tab" onclick="switchSport('boxing')">Boxing <span class="tab-count">0</span></div>
    <div class="sport-tab" onclick="switchSport('props')">Props <span class="tab-count">30</span></div>
    <div class="sport-tab" onclick="switchSport('combined')">Combined <span class="tab-count">14</span></div>
    <div class="sport-tab" onclick="refreshSlate()" style="color:#EF4444;margin-left:auto;">REFRESH SLATE</div>
</div>

<!-- CONTENT -->
<div class="content">

<!-- ===== NBA PANEL ===== -->
<div class="sport-panel" id="panel-nba">

<div class="gotcha-banner" id="gotchaCard">
    <div style="display:flex;justify-content:space-between;align-items:center;">
        <h3>Gotcha Card</h3>
        <div style="display:flex;gap:6px;">
            <div style="cursor:pointer;padding:4px 10px;border-radius:4px;background:rgba(212,160,23,0.15);color:#D4A017;font-size:11px;font-weight:700;" onclick="toggleGotchaEdit()">EDIT</div>
            <div style="cursor:pointer;padding:4px 10px;border-radius:4px;background:rgba(16,185,129,0.15);color:#10B981;font-size:11px;font-weight:700;" onclick="saveGotcha()">SAVE</div>
        </div>
    </div>
    <div id="gotchaDisplay">
        <ul>
            <li><strong>ALL 6 road teams on B2B.</strong> Home ice/court advantage night. Lean home unless something overrides.</li>
            <li><strong>Giannis</strong> OUT 13th straight (calf). MIL is not the Bucks without him.</li>
            <li><strong>SGA + Jalen Williams</strong> still OUT for OKC. Shell team on a B2B.</li>
            <li><strong>Curry + Porzingis</strong> both OUT for GS. On a B2B. GS favored at -3.5? VERIFY LINE</li>
            <li><strong>Tatum</strong> season (Achilles). <strong>Brown</strong> questionable. BOS at altitude on B2B.</li>
            <li><strong>Harden (37)</strong> B2B watch. CLE may rest him. Confirm at noon.</li>
        </ul>
    </div>
    <textarea id="gotchaEditor" style="display:none;width:100%;min-height:150px;background:#0D0D1A;color:#fff;border:1px solid #D4A017;border-radius:6px;padding:10px;font-family:'Nunito',sans-serif;font-size:13px;resize:vertical;margin-top:8px;" placeholder="One note per line. Use for injuries, traps, edges, B2B flags..."></textarea>
</div>

<!-- CLE @ MIL -->
<div class="game-row" data-game="CLE @ MIL" onclick="this.classList.toggle('expanded')">
    <div class="game-header">
        <div class="pick-check" onclick="togglePick(event, this, 'CLE @ MIL')"></div>
        <div class="game-time">8:00 ET</div>
        <div class="game-matchup"><span class="away">CLE</span> @ <span class="home">MIL</span>
            <div class="side-select">
                <div class="side-btn" onclick="pickSide(event,this,'CLE -9.5')">CLE -9.5</div>
                <div class="side-btn" onclick="pickSide(event,this,'MIL +9.5')">MIL +9.5</div>
                <div class="side-btn" onclick="pickSide(event,this,'OVER 227.5')">OVER</div>
                <div class="side-btn" onclick="pickSide(event,this,'UNDER 227.5')">UNDER</div>
            </div>
        </div>
        <div class="game-spread">CLE -9.5</div>
        <div class="game-total">O/U 227.5</div>
        <div class="game-grade"><span class="grade gam">A-</span></div>
        <div class="game-edge"><span class="tag tag-b2b">B2B</span> No Giannis x13. 9.5 is steep on second night.</div>
    </div>
    <div class="game-detail">
        <div class="detail-grid">
            <div class="detail-box peter">
                <h4>Peter's Zone</h4>
                <p>CLE cruises without Giannis but 9.5 on B2B legs? Harden's 37. If he sits, this changes everything. Could grab MIL +9.5 if Harden rests.</p>
            </div>
            <div class="detail-box trends">
                <h4>Trends</h4>
                <ul>
                    <li>MIL 2-10 ATS without Giannis</li>
                    <li>CLE 4-1 ATS on B2B this season</li>
                    <li>Under 5/7 in CLE road games</li>
                </ul>
            </div>
            <div class="detail-box flags">
                <h4>Flags</h4>
                <ul>
                    <li>Harden B2B rest — CONFIRM AT NOON</li>
                    <li>9.5 is the biggest CLE spread this season</li>
                    <li>Dame revenge game narrative (public trap?)</li>
                </ul>
            </div>
            <div class="detail-box chinny">
                <h4>Chinny's Props Zone</h4>
                <ul>
                    <li>Mitchell pts O 24.5 — cooking</li>
                    <li>Harden ast O 7.5 — IF he plays</li>
                    <li>Dame pts O 26.5 — has to carry</li>
                </ul>
            </div>
        </div>
    </div>
</div>

<!-- SAC @ HOU -->
<div class="game-row" data-game="SAC @ HOU" onclick="this.classList.toggle('expanded')">
    <div class="game-header">
        <div class="pick-check" onclick="togglePick(event, this, 'SAC @ HOU')"></div>
        <div class="game-time">8:00 ET</div>
        <div class="game-matchup"><span class="away">SAC</span> @ <span class="home">HOU</span>
            <div class="side-select">
                <div class="side-btn" onclick="pickSide(event,this,'SAC +14.5')">SAC +14.5</div>
                <div class="side-btn" onclick="pickSide(event,this,'HOU -14.5')">HOU -14.5</div>
                <div class="side-btn" onclick="pickSide(event,this,'OVER 222.5')">OVER</div>
                <div class="side-btn" onclick="pickSide(event,this,'UNDER 222.5')">UNDER</div>
            </div>
        </div>
        <div class="game-spread">HOU -14.5</div>
        <div class="game-total">O/U 222.5</div>
        <div class="game-grade"><span class="grade gbp">B+</span></div>
        <div class="game-edge"><span class="tag tag-b2b">B2B</span> <span class="tag tag-trap">14.5!</span> Massive spread. SAC tired.</div>
    </div>
    <div class="game-detail">
        <div class="detail-grid">
            <div class="detail-box peter">
                <h4>Peter's Zone</h4>
                <p>14.5 is absurd. HOU defense is elite but this screams trap. SAC on B2B with Fox tired. But 14.5... value on SAC +14.5 as a fade?</p>
            </div>
            <div class="detail-box trends">
                <h4>Trends</h4>
                <ul>
                    <li>HOU 8-2 ATS at home as double-digit fav</li>
                    <li>SAC 1-6 ATS on B2B road games</li>
                    <li>Over in 4 of last 5 SAC games</li>
                </ul>
            </div>
            <div class="detail-box flags">
                <h4>Flags</h4>
                <ul>
                    <li>14.5 is season-high spread for HOU</li>
                    <li>Public will hammer HOU — sharp money where?</li>
                    <li>Fox + Sabonis fatigue on B2B</li>
                </ul>
            </div>
            <div class="detail-box chinny">
                <h4>Chinny's Props Zone</h4>
                <ul>
                    <li>Sengun pts+reb O 28.5 — HOU big advantage</li>
                    <li>Fox pts U 24.5 — tired legs</li>
                    <li>HOU team total O 118.5 — SAC D is cooked</li>
                </ul>
            </div>
        </div>
    </div>
</div>

<!-- OKC @ DET -->
<div class="game-row" data-game="OKC @ DET" onclick="this.classList.toggle('expanded')">
    <div class="game-header">
        <div class="pick-check" onclick="togglePick(event, this, 'OKC @ DET')"></div>
        <div class="game-time">7:30 ET</div>
        <div class="game-matchup"><span class="away">OKC</span> @ <span class="home">DET</span>
            <div class="side-select">
                <div class="side-btn" onclick="pickSide(event,this,'OKC +7.5')">OKC +7.5</div>
                <div class="side-btn" onclick="pickSide(event,this,'DET -7.5')">DET -7.5</div>
                <div class="side-btn" onclick="pickSide(event,this,'OVER 218.5')">OVER</div>
                <div class="side-btn" onclick="pickSide(event,this,'UNDER 218.5')">UNDER</div>
            </div>
        </div>
        <div class="game-spread">DET -7.5</div>
        <div class="game-total">O/U 218.5</div>
        <div class="game-grade"><span class="grade gbp">B+</span></div>
        <div class="game-edge"><span class="tag tag-b2b">B2B</span> OKC shell. Cade at home. DET smash spot.</div>
    </div>
    <div class="game-detail">
        <div class="detail-grid">
            <div class="detail-box peter">
                <h4>Peter's Zone</h4>
                <p>DET is the play. OKC without SGA and Williams on a B2B is a G-League team. Cade goes off at home. DET -7.5 or DET ML parlay leg.</p>
            </div>
            <div class="detail-box trends">
                <h4>Trends</h4>
                <ul>
                    <li>OKC 0-4 ATS without SGA this season</li>
                    <li>DET 6-2 at home last 8</li>
                    <li>Cade averaging 28/8 at home</li>
                </ul>
            </div>
            <div class="detail-box flags">
                <h4>Flags</h4>
                <ul>
                    <li>Chet Holmgren status — questionable</li>
                    <li>If Chet sits, DET -7.5 is a lock</li>
                </ul>
            </div>
            <div class="detail-box chinny">
                <h4>Chinny's Props Zone</h4>
                <ul>
                    <li>Cade pts O 26.5 — showcase game</li>
                    <li>Cade ast O 8.5 — OKC can't guard PnR</li>
                    <li>OKC team total U 105.5 — who scores?</li>
                </ul>
            </div>
        </div>
    </div>
</div>

<!-- SA @ TOR -->
<div class="game-row" data-game="SA @ TOR" onclick="this.classList.toggle('expanded')">
    <div class="game-header">
        <div class="pick-check" onclick="togglePick(event, this, 'SA @ TOR')"></div>
        <div class="game-time">7:30 ET</div>
        <div class="game-matchup"><span class="away">SA</span> @ <span class="home">TOR</span>
            <div class="side-select">
                <div class="side-btn" onclick="pickSide(event,this,'SA -6.5')">SA -6.5</div>
                <div class="side-btn" onclick="pickSide(event,this,'TOR +6.5')">TOR +6.5</div>
                <div class="side-btn" onclick="pickSide(event,this,'OVER 229.5')">OVER</div>
                <div class="side-btn" onclick="pickSide(event,this,'UNDER 229.5')">UNDER</div>
            </div>
        </div>
        <div class="game-spread">SA -6.5</div>
        <div class="game-total">O/U 229.5</div>
        <div class="game-grade"><span class="grade gb">B</span></div>
        <div class="game-edge"><span class="tag tag-b2b">B2B</span> Wemby fatigue watch. TOR tanking but home.</div>
    </div>
    <div class="game-detail">
        <div class="detail-grid">
            <div class="detail-box peter">
                <h4>Peter's Zone</h4>
                <p>If Wemby plays, SA covers. If Wemby rests (B2B load management), TOR +6.5 is alive. Wait for noon confirmation.</p>
            </div>
            <div class="detail-box flags">
                <h4>Flags</h4>
                <ul>
                    <li>Wemby B2B load management — CONFIRM AT NOON</li>
                    <li>TOR playing for lottery but Scottie Barnes competes</li>
                </ul>
            </div>
        </div>
    </div>
</div>

<!-- GS @ MEM -->
<div class="game-row" data-game="GS @ MEM" onclick="this.classList.toggle('expanded')">
    <div class="game-header">
        <div class="pick-check" onclick="togglePick(event, this, 'GS @ MEM')"></div>
        <div class="game-time">7:30 ET</div>
        <div class="game-matchup"><span class="away">GS</span> @ <span class="home">MEM</span>
            <div class="side-select">
                <div class="side-btn" onclick="pickSide(event,this,'GS -3.5')">GS -3.5</div>
                <div class="side-btn" onclick="pickSide(event,this,'MEM +3.5')">MEM +3.5</div>
                <div class="side-btn" onclick="pickSide(event,this,'OVER 227.5')">OVER</div>
                <div class="side-btn" onclick="pickSide(event,this,'UNDER 227.5')">UNDER</div>
            </div>
        </div>
        <div class="game-spread">GS -3.5</div>
        <div class="game-total">O/U 227.5</div>
        <div class="game-grade"><span class="grade gc">C</span></div>
        <div class="game-edge"><span class="tag tag-b2b">B2B</span> <span class="tag tag-trap">LINE?</span> GS favored without Curry/KP on B2B?</div>
    </div>
    <div class="game-detail">
        <div class="detail-grid">
            <div class="detail-box peter">
                <h4>Peter's Zone</h4>
                <p>This line is WRONG or I'm missing something. GS -3.5 at Memphis on a B2B without Curry and Porzingis? Ja at home? MEM ML might be the upset special.</p>
            </div>
            <div class="detail-box flags">
                <h4>Flags</h4>
                <ul>
                    <li>Verify Ja Morant status at noon</li>
                    <li>Line movement — if this moves to MEM favored, confirms suspicion</li>
                    <li>DO NOT BET until line is verified</li>
                </ul>
            </div>
        </div>
    </div>
</div>

<!-- BOS @ DEN -->
<div class="game-row" data-game="BOS @ DEN" onclick="this.classList.toggle('expanded')">
    <div class="game-header">
        <div class="pick-check" onclick="togglePick(event, this, 'BOS @ DEN')"></div>
        <div class="game-time">10:00 ET</div>
        <div class="game-matchup"><span class="away">BOS</span> @ <span class="home">DEN</span>
            <div class="side-select">
                <div class="side-btn" onclick="pickSide(event,this,'BOS +3.5')">BOS +3.5</div>
                <div class="side-btn" onclick="pickSide(event,this,'DEN -3.5')">DEN -3.5</div>
                <div class="side-btn" onclick="pickSide(event,this,'OVER 230.5')">OVER</div>
                <div class="side-btn" onclick="pickSide(event,this,'UNDER 230.5')">UNDER</div>
            </div>
        </div>
        <div class="game-spread">DEN -3.5</div>
        <div class="game-total">O/U 230.5</div>
        <div class="game-grade"><span class="grade gb">B</span></div>
        <div class="game-edge"><span class="tag tag-b2b">B2B</span> BOS skeleton at altitude. Jokic triple-double spot.</div>
    </div>
    <div class="game-detail">
        <div class="detail-grid">
            <div class="detail-box peter">
                <h4>Peter's Zone</h4>
                <p>BOS has no Tatum, Brown questionable, no KP. At altitude on a B2B. DEN -3.5 feels light. Jokic eats. Under if both rest guys.</p>
            </div>
            <div class="detail-box trends">
                <h4>Trends</h4>
                <ul>
                    <li>DEN 9-1 at home vs teams on B2B</li>
                    <li>BOS 1-4 ATS without Tatum</li>
                    <li>Jokic averaging triple-double at home</li>
                </ul>
            </div>
            <div class="detail-box chinny">
                <h4>Chinny's Props Zone</h4>
                <ul>
                    <li>Jokic pts+reb+ast O 45.5 — triple-double lock</li>
                    <li>Jokic reb O 12.5 — BOS no bigs</li>
                    <li>BOS team total U 108.5 — who's scoring?</li>
                </ul>
            </div>
        </div>
    </div>
</div>

<!-- UPSET SPECIALS -->
<div class="upset-section">
    <h3>Upset Specials (Peter's Territory)</h3>
    <div class="upset-row">
        <div class="upset-dog">MEM ML vs GS</div>
        <div class="upset-ml">~+140</div>
        <div class="upset-thesis">GS without Curry/KP on B2B at Memphis. Ja at home. Line is suspicious.</div>
        <div class="game-grade"><span class="grade gbp">B+</span></div>
    </div>
    <div class="upset-row">
        <div class="upset-dog">TOR ML vs SA</div>
        <div class="upset-ml">~+210</div>
        <div class="upset-thesis">If Wemby sits (B2B load), Barnes goes off at home.</div>
        <div class="game-grade"><span class="grade gb">B</span></div>
    </div>
</div>

<!-- PETER INPUT -->
<div class="input-section">
    <h3>Your Gut Picks</h3>
    <p>
        1. CLE -9.5 on B2B vs no-Giannis MIL — too many points or cruise?<br>
        2. HOU -14.5 — lay it or fade?<br>
        3. DET -7.5 vs OKC shell — smash?<br>
        4. GS -3.5 at MEM without Curry/KP — line is broken?<br>
        5. BOS at DEN altitude on B2B — DEN smash?<br>
        6. SA -6.5 at TOR — Wemby plays or rests?
    </p>
</div>

</div>

<!-- ===== NHL PANEL ===== -->
<div class="sport-panel" id="panel-nhl">

<div class="gotcha-banner">
    <h3>Gotcha Card</h3>
    <ul>
        <li><span class="tag tag-rust">20-DAY BREAK</span> <strong>First games back from Olympics.</strong> Every team is rusty. This is the #1 variable.</li>
        <li><strong>Goalie confirmation is CRITICAL.</strong> Who starts after 3 weeks off? Noon sweep must confirm.</li>
        <li>Teams with more Olympic players = more travel fatigue.</li>
        <li>Home ice advantage spikes post-break.</li>
        <li><strong>All pre-break trend data is RESET.</strong> Streaks mean nothing after 20 days off.</li>
    </ul>
</div>

<!-- BUF @ NJD -->
<div class="game-row" data-game="BUF @ NJD" onclick="this.classList.toggle('expanded')">
    <div class="game-header">
        <div class="pick-check" onclick="togglePick(event, this, 'BUF @ NJD')"></div>
        <div class="game-time">7:00 ET</div>
        <div class="game-matchup"><span class="away">BUF</span> @ <span class="home">NJD</span>
            <div class="side-select">
                <div class="side-btn" onclick="pickSide(event,this,'BUF ML')">BUF ML</div>
                <div class="side-btn" onclick="pickSide(event,this,'NJD ML')">NJD ML</div>
                <div class="side-btn" onclick="pickSide(event,this,'BUF +1.5')">BUF +1.5</div>
                <div class="side-btn" onclick="pickSide(event,this,'NJD -1.5')">NJD -1.5</div>
            </div>
        </div>
        <div class="game-spread">TBD</div>
        <div class="game-total">TBD</div>
        <div class="game-grade"><span class="grade gb">B</span></div>
        <div class="game-edge"><span class="tag tag-rust">RUST</span> NJD at home. Jack Hughes rust check.</div>
    </div>
    <div class="game-detail">
        <div class="detail-grid">
            <div class="detail-box chinny"><h4>Chinny's Zone (NHL Master)</h4><p>Goalie confirmation needed. NJD home advantage post-break. BUF inconsistent all year.</p></div>
            <div class="detail-box flags"><h4>Flags</h4><ul><li>Confirm starting goalies at noon</li><li>Under lean — both teams rusty</li></ul></div>
        </div>
    </div>
</div>

<!-- PHI @ WSH -->
<div class="game-row" data-game="PHI @ WSH" onclick="this.classList.toggle('expanded')">
    <div class="game-header">
        <div class="pick-check" onclick="togglePick(event, this, 'PHI @ WSH')"></div>
        <div class="game-time">7:00 ET</div>
        <div class="game-matchup"><span class="away">PHI</span> @ <span class="home">WSH</span>
            <div class="side-select">
                <div class="side-btn" onclick="pickSide(event,this,'PHI ML')">PHI ML</div>
                <div class="side-btn" onclick="pickSide(event,this,'WSH ML')">WSH ML</div>
                <div class="side-btn" onclick="pickSide(event,this,'PHI +1.5')">PHI +1.5</div>
                <div class="side-btn" onclick="pickSide(event,this,'WSH -1.5')">WSH -1.5</div>
            </div>
        </div>
        <div class="game-spread">TBD</div>
        <div class="game-total">TBD</div>
        <div class="game-grade"><span class="grade gb">B</span></div>
        <div class="game-edge"><span class="tag tag-rust">RUST</span> Ovechkin Gretzky chase. WSH home.</div>
    </div>
    <div class="game-detail">
        <div class="detail-grid">
            <div class="detail-box chinny"><h4>Chinny's Zone</h4><p>Ovechkin chasing Gretzky's record. Crowd energy at home. PHI young and sloppy. WSH lean.</p></div>
        </div>
    </div>
</div>

<!-- TOR @ TBL -->
<div class="game-row" data-game="TOR @ TBL" onclick="this.classList.toggle('expanded')">
    <div class="game-header">
        <div class="pick-check" onclick="togglePick(event, this, 'TOR @ TBL')"></div>
        <div class="game-time">7:30 ET</div>
        <div class="game-matchup"><span class="away">TOR</span> @ <span class="home">TBL</span>
            <div class="side-select">
                <div class="side-btn" onclick="pickSide(event,this,'TOR ML')">TOR ML</div>
                <div class="side-btn" onclick="pickSide(event,this,'TBL ML')">TBL ML</div>
                <div class="side-btn" onclick="pickSide(event,this,'TOR +1.5')">TOR +1.5</div>
                <div class="side-btn" onclick="pickSide(event,this,'TBL -1.5')">TBL -1.5</div>
            </div>
        </div>
        <div class="game-spread">TBD</div>
        <div class="game-total">TBD</div>
        <div class="game-grade"><span class="grade gbp">B+</span></div>
        <div class="game-edge"><span class="tag tag-rust">RUST</span> Best matchup on slate. Both playoff-bound.</div>
    </div>
    <div class="game-detail">
        <div class="detail-grid">
            <div class="detail-box chinny"><h4>Chinny's Zone</h4><p>Marquee game. Goalie matchup decides it. Vasilevskiy vs whoever TOR starts. TBL at home.</p></div>
            <div class="detail-box flags"><h4>Flags</h4><ul><li>TOR goalie rotation — confirm starter</li><li>Under lean post-break</li></ul></div>
        </div>
    </div>
</div>

<!-- SEA @ DAL -->
<div class="game-row" data-game="SEA @ DAL" onclick="this.classList.toggle('expanded')">
    <div class="game-header">
        <div class="pick-check" onclick="togglePick(event, this, 'SEA @ DAL')"></div>
        <div class="game-time">8:00 ET</div>
        <div class="game-matchup"><span class="away">SEA</span> @ <span class="home">DAL</span>
            <div class="side-select">
                <div class="side-btn" onclick="pickSide(event,this,'SEA ML')">SEA ML</div>
                <div class="side-btn" onclick="pickSide(event,this,'DAL ML')">DAL ML</div>
                <div class="side-btn" onclick="pickSide(event,this,'SEA +1.5')">SEA +1.5</div>
                <div class="side-btn" onclick="pickSide(event,this,'DAL -1.5')">DAL -1.5</div>
            </div>
        </div>
        <div class="game-spread">TBD</div>
        <div class="game-total">TBD</div>
        <div class="game-grade"><span class="grade gb">B</span></div>
        <div class="game-edge"><span class="tag tag-rust">RUST</span> DAL home, strong roster. SEA mid-tier.</div>
    </div>
</div>

<!-- COL @ UTA -->
<div class="game-row" data-game="COL @ UTA" onclick="this.classList.toggle('expanded')">
    <div class="game-header">
        <div class="pick-check" onclick="togglePick(event, this, 'COL @ UTA')"></div>
        <div class="game-time">9:00 ET</div>
        <div class="game-matchup"><span class="away">COL</span> @ <span class="home">UTA</span>
            <div class="side-select">
                <div class="side-btn" onclick="pickSide(event,this,'COL ML')">COL ML</div>
                <div class="side-btn" onclick="pickSide(event,this,'UTA ML')">UTA ML</div>
                <div class="side-btn" onclick="pickSide(event,this,'COL +1.5')">COL +1.5</div>
                <div class="side-btn" onclick="pickSide(event,this,'UTA -1.5')">UTA -1.5</div>
            </div>
        </div>
        <div class="game-spread">TBD</div>
        <div class="game-total">TBD</div>
        <div class="game-grade"><span class="grade gbp">B+</span></div>
        <div class="game-edge"><span class="tag tag-rust">RUST</span> COL loaded. UTA first home game post-break. Crowd factor.</div>
    </div>
    <div class="game-detail">
        <div class="detail-grid">
            <div class="detail-box chinny"><h4>Chinny's Zone</h4><p>MacKinnon + Makar vs new UTA franchise energy. COL talent should override rust. But UTA home crowd could be electric for first game back.</p></div>
        </div>
    </div>
</div>

<!-- WPG @ VAN -->
<div class="game-row" data-game="WPG @ VAN" onclick="this.classList.toggle('expanded')">
    <div class="game-header">
        <div class="pick-check" onclick="togglePick(event, this, 'WPG @ VAN')"></div>
        <div class="game-time">10:00 ET</div>
        <div class="game-matchup"><span class="away">WPG</span> @ <span class="home">VAN</span>
            <div class="side-select">
                <div class="side-btn" onclick="pickSide(event,this,'WPG ML')">WPG ML</div>
                <div class="side-btn" onclick="pickSide(event,this,'VAN ML')">VAN ML</div>
                <div class="side-btn" onclick="pickSide(event,this,'WPG +1.5')">WPG +1.5</div>
                <div class="side-btn" onclick="pickSide(event,this,'VAN -1.5')">VAN -1.5</div>
            </div>
        </div>
        <div class="game-spread">TBD</div>
        <div class="game-total">TBD</div>
        <div class="game-grade"><span class="grade gb">B</span></div>
        <div class="game-edge"><span class="tag tag-rust">RUST</span> WPG was #1 West pre-break. Hellebuyck elite.</div>
    </div>
</div>

<!-- VGK @ LAK -->
<div class="game-row" data-game="VGK @ LAK" onclick="this.classList.toggle('expanded')">
    <div class="game-header">
        <div class="pick-check" onclick="togglePick(event, this, 'VGK @ LAK')"></div>
        <div class="game-time">10:00 ET</div>
        <div class="game-matchup"><span class="away">VGK</span> @ <span class="home">LAK</span>
            <div class="side-select">
                <div class="side-btn" onclick="pickSide(event,this,'VGK ML')">VGK ML</div>
                <div class="side-btn" onclick="pickSide(event,this,'LAK ML')">LAK ML</div>
                <div class="side-btn" onclick="pickSide(event,this,'VGK +1.5')">VGK +1.5</div>
                <div class="side-btn" onclick="pickSide(event,this,'LAK -1.5')">LAK -1.5</div>
            </div>
        </div>
        <div class="game-spread">TBD</div>
        <div class="game-total">TBD</div>
        <div class="game-grade"><span class="grade gb">B</span></div>
        <div class="game-edge"><span class="tag tag-rust">RUST</span> Pacific rivalry. Both fighting for position.</div>
    </div>
</div>

<!-- EDM @ ANA -->
<div class="game-row" data-game="EDM @ ANA" onclick="this.classList.toggle('expanded')">
    <div class="game-header">
        <div class="pick-check" onclick="togglePick(event, this, 'EDM @ ANA')"></div>
        <div class="game-time">10:30 ET</div>
        <div class="game-matchup"><span class="away">EDM</span> @ <span class="home">ANA</span>
            <div class="side-select">
                <div class="side-btn" onclick="pickSide(event,this,'EDM ML')">EDM ML</div>
                <div class="side-btn" onclick="pickSide(event,this,'ANA ML')">ANA ML</div>
                <div class="side-btn" onclick="pickSide(event,this,'EDM +1.5')">EDM +1.5</div>
                <div class="side-btn" onclick="pickSide(event,this,'ANA -1.5')">ANA -1.5</div>
            </div>
        </div>
        <div class="game-spread">TBD</div>
        <div class="game-total">TBD</div>
        <div class="game-grade"><span class="grade gbp">B+</span></div>
        <div class="game-edge"><span class="tag tag-rust">RUST</span> McDavid rust factor. ANA bad but could steal one.</div>
    </div>
    <div class="game-detail">
        <div class="detail-grid">
            <div class="detail-box chinny"><h4>Chinny's Zone</h4><p>McDavid + Draisaitl coming off Olympics. Tired or fired up? ANA is bad but opening night back = trap potential. Lean EDM but cautiously.</p></div>
        </div>
    </div>
</div>

<!-- NHL INPUT -->
<div class="input-section" style="border-color:rgba(16,185,129,0.25);background:rgba(16,185,129,0.04);">
    <h3 style="color:#10B981;">Chinny's Call</h3>
    <p>
        NHL is Chinny's card. Key questions:<br>
        1. TOR @ TBL — which way?<br>
        2. COL @ UTA — talent overrides rust?<br>
        3. EDM @ ANA — McDavid rust or doesn't matter?<br>
        4. WPG still elite post-break?<br>
        5. Unders across the board?<br>
        6. Goalie confirmations needed for ALL 8 games.
    </p>
</div>

</div>

<!-- ===== SOCCER PANEL ===== -->
<div class="sport-panel" id="panel-soccer">
<div class="gotcha-banner" style="border-color:rgba(16,185,129,0.2);background:rgba(16,185,129,0.06);">
    <h3 style="color:#10B981;">Soccer — Live Lines (Hard Rock Bet)</h3>
    <p style="color:rgba(255,255,255,0.5);font-size:13px;">MLS, EPL, Champions League, La Liga. Moneylines + totals. No player props.</p>
</div>
</div>

<!-- ===== MMA PANEL ===== -->
<div class="sport-panel" id="panel-mma">
<div class="gotcha-banner" style="border-color:rgba(239,68,68,0.2);background:rgba(239,68,68,0.06);">
    <h3 style="color:#EF4444;">MMA / UFC — Live Lines (Hard Rock Bet)</h3>
    <p style="color:rgba(255,255,255,0.5);font-size:13px;">Moneylines + totals (rounds). Fight night data.</p>
</div>
</div>

<!-- ===== BOXING PANEL ===== -->
<div class="sport-panel" id="panel-boxing">
<div class="gotcha-banner" style="border-color:rgba(168,85,247,0.2);background:rgba(168,85,247,0.06);">
    <h3 style="color:#A855F7;">Boxing — Live Lines (Hard Rock Bet)</h3>
    <p style="color:rgba(255,255,255,0.5);font-size:13px;">Moneylines + totals (rounds).</p>
</div>
</div>

<!-- ===== PROPS PANEL (Chinny's Card) ===== -->
<div class="sport-panel" id="panel-props">

<div class="gotcha-banner" style="border-color:rgba(16,185,129,0.2);background:rgba(16,185,129,0.06);">
    <h3 style="color:#10B981;">Chinny's Props Card</h3>
    <ul>
        <li><strong>Props are Chinny's territory.</strong> Top 5 per game. B or higher only.</li>
        <li>Blowout filter: if the game is projected 15+ margin, prop volume drops (starters sit).</li>
        <li>Streak data must be verified for CURRENT TEAM context (learned from Harden mistake).</li>
        <li>NHL props TBD until goalie confirmations at noon.</li>
    </ul>
</div>

<!-- CLE @ MIL Props -->
<div style="background:rgba(255,255,255,0.02);border:1px solid rgba(255,255,255,0.06);border-radius:12px;padding:16px 20px;margin-bottom:12px;">
    <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:12px;">
        <div><span class="tag" style="background:rgba(200,50,50,0.2);color:#E25555;">NBA</span> <strong style="font-family:'Playfair Display',serif;">CLE @ MIL</strong> <span style="font-size:12px;color:rgba(255,255,255,0.3);">8:00 ET</span></div>
        <span class="grade gam">A-</span>
    </div>
    <table style="width:100%;border-collapse:collapse;">
    <tr><th style="text-align:left;padding:6px 8px;font-size:10px;color:#10B981;text-transform:uppercase;letter-spacing:1px;">Player</th><th style="text-align:left;padding:6px 8px;font-size:10px;color:#10B981;">Prop</th><th style="text-align:left;padding:6px 8px;font-size:10px;color:#10B981;">Line</th><th style="text-align:center;padding:6px 8px;font-size:10px;color:#10B981;">Grade</th><th style="text-align:left;padding:6px 8px;font-size:10px;color:#10B981;">Why</th></tr>
    <tr style="border-bottom:1px solid rgba(255,255,255,0.04);"><td style="padding:8px;font-size:13px;">Mitchell</td><td style="padding:8px;font-size:13px;">Pts</td><td style="padding:8px;font-size:13px;color:#D4A017;font-weight:700;">O 24.5</td><td style="text-align:center;"><span class="grade ga">A</span></td><td style="padding:8px;font-size:12px;color:rgba(255,255,255,0.5);">25+ in 8 straight vs MIL defense</td></tr>
    <tr style="border-bottom:1px solid rgba(255,255,255,0.04);"><td style="padding:8px;font-size:13px;">Harden</td><td style="padding:8px;font-size:13px;">Ast</td><td style="padding:8px;font-size:13px;color:#D4A017;font-weight:700;">O 7.5</td><td style="text-align:center;"><span class="grade gb">B</span></td><td style="padding:8px;font-size:12px;color:rgba(255,255,255,0.5);">IF he plays (B2B). CLE system feeds assists.</td></tr>
    <tr style="border-bottom:1px solid rgba(255,255,255,0.04);"><td style="padding:8px;font-size:13px;">Allen</td><td style="padding:8px;font-size:13px;">Reb</td><td style="padding:8px;font-size:13px;color:#D4A017;font-weight:700;">O 10.5</td><td style="text-align:center;"><span class="grade gb">B</span></td><td style="padding:8px;font-size:12px;color:rgba(255,255,255,0.5);">No Giannis = weak MIL boards</td></tr>
    <tr style="border-bottom:1px solid rgba(255,255,255,0.04);"><td style="padding:8px;font-size:13px;">Dame</td><td style="padding:8px;font-size:13px;">Pts</td><td style="padding:8px;font-size:13px;color:#D4A017;font-weight:700;">O 26.5</td><td style="text-align:center;"><span class="grade gb">B</span></td><td style="padding:8px;font-size:12px;color:rgba(255,255,255,0.5);">Has to carry MIL alone. 20+ shots.</td></tr>
    <tr><td style="padding:8px;font-size:13px;">Mobley</td><td style="padding:8px;font-size:13px;">Pts+Reb</td><td style="padding:8px;font-size:13px;color:#D4A017;font-weight:700;">O 22.5</td><td style="text-align:center;"><span class="grade gb">B</span></td><td style="padding:8px;font-size:12px;color:rgba(255,255,255,0.5);">Matchup advantage in paint vs MIL.</td></tr>
    </table>
</div>

<!-- OKC @ DET Props -->
<div style="background:rgba(255,255,255,0.02);border:1px solid rgba(255,255,255,0.06);border-radius:12px;padding:16px 20px;margin-bottom:12px;">
    <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:12px;">
        <div><span class="tag" style="background:rgba(200,50,50,0.2);color:#E25555;">NBA</span> <strong style="font-family:'Playfair Display',serif;">OKC @ DET</strong> <span style="font-size:12px;color:rgba(255,255,255,0.3);">7:30 ET</span></div>
        <span class="grade gbp">B+</span>
    </div>
    <table style="width:100%;border-collapse:collapse;">
    <tr><th style="text-align:left;padding:6px 8px;font-size:10px;color:#10B981;text-transform:uppercase;letter-spacing:1px;">Player</th><th style="text-align:left;padding:6px 8px;font-size:10px;color:#10B981;">Prop</th><th style="text-align:left;padding:6px 8px;font-size:10px;color:#10B981;">Line</th><th style="text-align:center;padding:6px 8px;font-size:10px;color:#10B981;">Grade</th><th style="text-align:left;padding:6px 8px;font-size:10px;color:#10B981;">Why</th></tr>
    <tr style="border-bottom:1px solid rgba(255,255,255,0.04);"><td style="padding:8px;font-size:13px;">Cade</td><td style="padding:8px;font-size:13px;">Pts</td><td style="padding:8px;font-size:13px;color:#D4A017;font-weight:700;">O 26.5</td><td style="text-align:center;"><span class="grade ga">A</span></td><td style="padding:8px;font-size:12px;color:rgba(255,255,255,0.5);">OKC shell. Cade showcase at home.</td></tr>
    <tr style="border-bottom:1px solid rgba(255,255,255,0.04);"><td style="padding:8px;font-size:13px;">Cade</td><td style="padding:8px;font-size:13px;">Ast</td><td style="padding:8px;font-size:13px;color:#D4A017;font-weight:700;">O 8.5</td><td style="text-align:center;"><span class="grade gb">B</span></td><td style="padding:8px;font-size:12px;color:rgba(255,255,255,0.5);">OKC can't guard PnR without SGA/Williams.</td></tr>
    <tr style="border-bottom:1px solid rgba(255,255,255,0.04);"><td style="padding:8px;font-size:13px;">Ivey</td><td style="padding:8px;font-size:13px;">Pts</td><td style="padding:8px;font-size:13px;color:#D4A017;font-weight:700;">O 18.5</td><td style="text-align:center;"><span class="grade gb">B</span></td><td style="padding:8px;font-size:12px;color:rgba(255,255,255,0.5);">DET rolling. Ivey eats vs depleted backcourt.</td></tr>
    <tr style="border-bottom:1px solid rgba(255,255,255,0.04);"><td style="padding:8px;font-size:13px;">Duren</td><td style="padding:8px;font-size:13px;">Reb</td><td style="padding:8px;font-size:13px;color:#D4A017;font-weight:700;">O 10.5</td><td style="text-align:center;"><span class="grade gb">B</span></td><td style="padding:8px;font-size:12px;color:rgba(255,255,255,0.5);">OKC without Chet = no rim presence.</td></tr>
    <tr><td style="padding:8px;font-size:13px;">OKC TT</td><td style="padding:8px;font-size:13px;">Under</td><td style="padding:8px;font-size:13px;color:#D4A017;font-weight:700;">U 105.5</td><td style="text-align:center;"><span class="grade gb">B</span></td><td style="padding:8px;font-size:12px;color:rgba(255,255,255,0.5);">Who scores for OKC? Nobody.</td></tr>
    </table>
</div>

<!-- SA @ TOR Props -->
<div style="background:rgba(255,255,255,0.02);border:1px solid rgba(255,255,255,0.06);border-radius:12px;padding:16px 20px;margin-bottom:12px;">
    <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:12px;">
        <div><span class="tag" style="background:rgba(200,50,50,0.2);color:#E25555;">NBA</span> <strong style="font-family:'Playfair Display',serif;">SA @ TOR</strong> <span style="font-size:12px;color:rgba(255,255,255,0.3);">7:30 ET</span></div>
        <span class="grade gb">B</span>
    </div>
    <table style="width:100%;border-collapse:collapse;">
    <tr><th style="text-align:left;padding:6px 8px;font-size:10px;color:#10B981;text-transform:uppercase;letter-spacing:1px;">Player</th><th style="text-align:left;padding:6px 8px;font-size:10px;color:#10B981;">Prop</th><th style="text-align:left;padding:6px 8px;font-size:10px;color:#10B981;">Line</th><th style="text-align:center;padding:6px 8px;font-size:10px;color:#10B981;">Grade</th><th style="text-align:left;padding:6px 8px;font-size:10px;color:#10B981;">Why</th></tr>
    <tr style="border-bottom:1px solid rgba(255,255,255,0.04);"><td style="padding:8px;font-size:13px;">Wemby</td><td style="padding:8px;font-size:13px;">Pts</td><td style="padding:8px;font-size:13px;color:#D4A017;font-weight:700;">O 24.5</td><td style="text-align:center;"><span class="grade ga">A</span></td><td style="padding:8px;font-size:12px;color:rgba(255,255,255,0.5);">IF he plays. TOR has no answer for him.</td></tr>
    <tr style="border-bottom:1px solid rgba(255,255,255,0.04);"><td style="padding:8px;font-size:13px;">Wemby</td><td style="padding:8px;font-size:13px;">Blk</td><td style="padding:8px;font-size:13px;color:#D4A017;font-weight:700;">O 2.5</td><td style="text-align:center;"><span class="grade gb">B</span></td><td style="padding:8px;font-size:12px;color:rgba(255,255,255,0.5);">TOR attacks rim. Wemby is the wall.</td></tr>
    <tr style="border-bottom:1px solid rgba(255,255,255,0.04);"><td style="padding:8px;font-size:13px;">Barnes</td><td style="padding:8px;font-size:13px;">Pts</td><td style="padding:8px;font-size:13px;color:#D4A017;font-weight:700;">O 22.5</td><td style="text-align:center;"><span class="grade gb">B</span></td><td style="padding:8px;font-size:12px;color:rgba(255,255,255,0.5);">Scottie competes. Home game energy.</td></tr>
    <tr style="border-bottom:1px solid rgba(255,255,255,0.04);"><td style="padding:8px;font-size:13px;">Barnes</td><td style="padding:8px;font-size:13px;">Reb</td><td style="padding:8px;font-size:13px;color:#D4A017;font-weight:700;">O 7.5</td><td style="text-align:center;"><span class="grade gb">B</span></td><td style="padding:8px;font-size:12px;color:rgba(255,255,255,0.5);">SA doesn't box out well on wings.</td></tr>
    <tr><td style="padding:8px;font-size:13px;">Vassell</td><td style="padding:8px;font-size:13px;">Pts</td><td style="padding:8px;font-size:13px;color:#D4A017;font-weight:700;">O 17.5</td><td style="text-align:center;"><span class="grade gbm">B-</span></td><td style="padding:8px;font-size:12px;color:rgba(255,255,255,0.5);">Secondary scorer if Wemby draws doubles.</td></tr>
    </table>
</div>

<!-- SAC @ HOU Props -->
<div style="background:rgba(255,255,255,0.02);border:1px solid rgba(255,255,255,0.06);border-radius:12px;padding:16px 20px;margin-bottom:12px;">
    <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:12px;">
        <div><span class="tag" style="background:rgba(200,50,50,0.2);color:#E25555;">NBA</span> <strong style="font-family:'Playfair Display',serif;">SAC @ HOU</strong> <span style="font-size:12px;color:rgba(255,255,255,0.3);">8:00 ET</span></div>
        <span class="grade gbp">B+</span>
    </div>
    <table style="width:100%;border-collapse:collapse;">
    <tr><th style="text-align:left;padding:6px 8px;font-size:10px;color:#10B981;text-transform:uppercase;letter-spacing:1px;">Player</th><th style="text-align:left;padding:6px 8px;font-size:10px;color:#10B981;">Prop</th><th style="text-align:left;padding:6px 8px;font-size:10px;color:#10B981;">Line</th><th style="text-align:center;padding:6px 8px;font-size:10px;color:#10B981;">Grade</th><th style="text-align:left;padding:6px 8px;font-size:10px;color:#10B981;">Why</th></tr>
    <tr style="border-bottom:1px solid rgba(255,255,255,0.04);"><td style="padding:8px;font-size:13px;">Sengun</td><td style="padding:8px;font-size:13px;">Pts+Reb</td><td style="padding:8px;font-size:13px;color:#D4A017;font-weight:700;">O 28.5</td><td style="text-align:center;"><span class="grade gb">B</span></td><td style="padding:8px;font-size:12px;color:rgba(255,255,255,0.5);">HOU big advantage. SAC tired bigs.</td></tr>
    <tr style="border-bottom:1px solid rgba(255,255,255,0.04);"><td style="padding:8px;font-size:13px;">Fox</td><td style="padding:8px;font-size:13px;">Pts</td><td style="padding:8px;font-size:13px;color:#D4A017;font-weight:700;">U 24.5</td><td style="text-align:center;"><span class="grade gb">B</span></td><td style="padding:8px;font-size:12px;color:rgba(255,255,255,0.5);">B2B legs. HOU elite perimeter D.</td></tr>
    <tr style="border-bottom:1px solid rgba(255,255,255,0.04);"><td style="padding:8px;font-size:13px;">Jalen Green</td><td style="padding:8px;font-size:13px;">Pts</td><td style="padding:8px;font-size:13px;color:#D4A017;font-weight:700;">O 20.5</td><td style="text-align:center;"><span class="grade gb">B</span></td><td style="padding:8px;font-size:12px;color:rgba(255,255,255,0.5);">SAC D is cooked on B2B. Green eats.</td></tr>
    <tr style="border-bottom:1px solid rgba(255,255,255,0.04);"><td style="padding:8px;font-size:13px;">Sabonis</td><td style="padding:8px;font-size:13px;">Reb</td><td style="padding:8px;font-size:13px;color:#D4A017;font-weight:700;">O 11.5</td><td style="text-align:center;"><span class="grade gbm">B-</span></td><td style="padding:8px;font-size:12px;color:rgba(255,255,255,0.5);">Sabonis always boards. But tired legs risk.</td></tr>
    <tr><td style="padding:8px;font-size:13px;">HOU TT</td><td style="padding:8px;font-size:13px;">Over</td><td style="padding:8px;font-size:13px;color:#D4A017;font-weight:700;">O 118.5</td><td style="text-align:center;"><span class="grade gb">B</span></td><td style="padding:8px;font-size:12px;color:rgba(255,255,255,0.5);">SAC defense on B2B = layup line.</td></tr>
    </table>
</div>

<!-- BOS @ DEN Props -->
<div style="background:rgba(255,255,255,0.02);border:1px solid rgba(255,255,255,0.06);border-radius:12px;padding:16px 20px;margin-bottom:12px;">
    <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:12px;">
        <div><span class="tag" style="background:rgba(200,50,50,0.2);color:#E25555;">NBA</span> <strong style="font-family:'Playfair Display',serif;">BOS @ DEN</strong> <span style="font-size:12px;color:rgba(255,255,255,0.3);">10:00 ET</span></div>
        <span class="grade gb">B</span>
    </div>
    <table style="width:100%;border-collapse:collapse;">
    <tr><th style="text-align:left;padding:6px 8px;font-size:10px;color:#10B981;text-transform:uppercase;letter-spacing:1px;">Player</th><th style="text-align:left;padding:6px 8px;font-size:10px;color:#10B981;">Prop</th><th style="text-align:left;padding:6px 8px;font-size:10px;color:#10B981;">Line</th><th style="text-align:center;padding:6px 8px;font-size:10px;color:#10B981;">Grade</th><th style="text-align:left;padding:6px 8px;font-size:10px;color:#10B981;">Why</th></tr>
    <tr style="border-bottom:1px solid rgba(255,255,255,0.04);"><td style="padding:8px;font-size:13px;">Jokic</td><td style="padding:8px;font-size:13px;">Pts+Reb+Ast</td><td style="padding:8px;font-size:13px;color:#D4A017;font-weight:700;">O 45.5</td><td style="text-align:center;"><span class="grade ga">A</span></td><td style="padding:8px;font-size:12px;color:rgba(255,255,255,0.5);">Triple-double machine at home. BOS no bigs.</td></tr>
    <tr style="border-bottom:1px solid rgba(255,255,255,0.04);"><td style="padding:8px;font-size:13px;">Jokic</td><td style="padding:8px;font-size:13px;">Reb</td><td style="padding:8px;font-size:13px;color:#D4A017;font-weight:700;">O 12.5</td><td style="text-align:center;"><span class="grade ga">A</span></td><td style="padding:8px;font-size:12px;color:rgba(255,255,255,0.5);">BOS has zero rim protection without KP/Tatum.</td></tr>
    <tr style="border-bottom:1px solid rgba(255,255,255,0.04);"><td style="padding:8px;font-size:13px;">Murray</td><td style="padding:8px;font-size:13px;">Pts</td><td style="padding:8px;font-size:13px;color:#D4A017;font-weight:700;">O 21.5</td><td style="text-align:center;"><span class="grade gb">B</span></td><td style="padding:8px;font-size:12px;color:rgba(255,255,255,0.5);">BOS B2B backcourt defense = slower rotations.</td></tr>
    <tr style="border-bottom:1px solid rgba(255,255,255,0.04);"><td style="padding:8px;font-size:13px;">BOS TT</td><td style="padding:8px;font-size:13px;">Under</td><td style="padding:8px;font-size:13px;color:#D4A017;font-weight:700;">U 108.5</td><td style="text-align:center;"><span class="grade gb">B</span></td><td style="padding:8px;font-size:12px;color:rgba(255,255,255,0.5);">No Tatum, Brown questionable. Who scores?</td></tr>
    <tr><td style="padding:8px;font-size:13px;">MPJ</td><td style="padding:8px;font-size:13px;">Pts</td><td style="padding:8px;font-size:13px;color:#D4A017;font-weight:700;">O 17.5</td><td style="text-align:center;"><span class="grade gbm">B-</span></td><td style="padding:8px;font-size:12px;color:rgba(255,255,255,0.5);">BOS can't rotate on B2B. MPJ open looks.</td></tr>
    </table>
</div>

<!-- GS @ MEM Props -->
<div style="background:rgba(255,255,255,0.02);border:1px solid rgba(255,255,255,0.06);border-radius:12px;padding:16px 20px;margin-bottom:12px;">
    <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:12px;">
        <div><span class="tag" style="background:rgba(200,50,50,0.2);color:#E25555;">NBA</span> <strong style="font-family:'Playfair Display',serif;">GS @ MEM</strong> <span style="font-size:12px;color:rgba(255,255,255,0.3);">7:30 ET</span></div>
        <span class="grade gc">C</span>
    </div>
    <table style="width:100%;border-collapse:collapse;">
    <tr><th style="text-align:left;padding:6px 8px;font-size:10px;color:#10B981;text-transform:uppercase;letter-spacing:1px;">Player</th><th style="text-align:left;padding:6px 8px;font-size:10px;color:#10B981;">Prop</th><th style="text-align:left;padding:6px 8px;font-size:10px;color:#10B981;">Line</th><th style="text-align:center;padding:6px 8px;font-size:10px;color:#10B981;">Grade</th><th style="text-align:left;padding:6px 8px;font-size:10px;color:#10B981;">Why</th></tr>
    <tr style="border-bottom:1px solid rgba(255,255,255,0.04);"><td style="padding:8px;font-size:13px;">Ja</td><td style="padding:8px;font-size:13px;">Pts</td><td style="padding:8px;font-size:13px;color:#D4A017;font-weight:700;">O 24.5</td><td style="text-align:center;"><span class="grade gb">B</span></td><td style="padding:8px;font-size:12px;color:rgba(255,255,255,0.5);">If Ja plays. GS no perimeter D without Curry.</td></tr>
    <tr style="border-bottom:1px solid rgba(255,255,255,0.04);"><td style="padding:8px;font-size:13px;">Ja</td><td style="padding:8px;font-size:13px;">Ast</td><td style="padding:8px;font-size:13px;color:#D4A017;font-weight:700;">O 7.5</td><td style="text-align:center;"><span class="grade gb">B</span></td><td style="padding:8px;font-size:12px;color:rgba(255,255,255,0.5);">GS depleted = easy lanes to kick out.</td></tr>
    <tr style="border-bottom:1px solid rgba(255,255,255,0.04);"><td style="padding:8px;font-size:13px;">JJJ</td><td style="padding:8px;font-size:13px;">Reb</td><td style="padding:8px;font-size:13px;color:#D4A017;font-weight:700;">O 6.5</td><td style="text-align:center;"><span class="grade gbm">B-</span></td><td style="padding:8px;font-size:12px;color:rgba(255,255,255,0.5);">GS thin frontcourt. JJJ cleans glass.</td></tr>
    <tr><td style="padding:8px;font-size:13px;" colspan="5" style="color:rgba(255,255,255,0.3);font-style:italic;font-size:12px;padding:8px;">Line suspicious. Verify before props lock. Game grade C = limited props confidence.</td></tr>
    </table>
</div>

<p class="note" style="margin-top:16px;">NHL props locked after goalie confirmations at noon. Chinny reviews all props before lock.</p>

</div>

<!-- ===== COMBINED PANEL ===== -->
<div class="sport-panel" id="panel-combined">

<div class="combined-header">
    <h2>Full Slate — Feb 25</h2>
    <div class="combined-stat">
        <div class="stat-pill">6 NBA</div>
        <div class="stat-pill">8 NHL</div>
        <div class="stat-pill">14 Total</div>
    </div>
</div>

<table style="width:100%;border-collapse:collapse;">
<tr><th style="background:rgba(255,255,255,0.06);text-align:left;padding:10px 12px;font-size:11px;color:#D4A017;text-transform:uppercase;letter-spacing:1px;">Time</th><th style="background:rgba(255,255,255,0.06);text-align:left;padding:10px;font-size:11px;color:#D4A017;text-transform:uppercase;">Sport</th><th style="background:rgba(255,255,255,0.06);text-align:left;padding:10px;font-size:11px;color:#D4A017;text-transform:uppercase;">Game</th><th style="background:rgba(255,255,255,0.06);text-align:left;padding:10px;font-size:11px;color:#D4A017;text-transform:uppercase;">Spread</th><th style="background:rgba(255,255,255,0.06);text-align:center;padding:10px;font-size:11px;color:#D4A017;text-transform:uppercase;">Grade</th><th style="background:rgba(255,255,255,0.06);text-align:left;padding:10px;font-size:11px;color:#D4A017;text-transform:uppercase;">Flag</th></tr>
<tr style="border-bottom:1px solid rgba(255,255,255,0.04);"><td style="padding:10px 12px;font-size:13px;color:rgba(255,255,255,0.5);">7:00</td><td><span class="tag" style="background:rgba(50,100,200,0.2);color:#5588EE;">NHL</span></td><td style="padding:10px;font-size:14px;">BUF @ NJD</td><td style="padding:10px;font-size:13px;color:rgba(255,255,255,0.5);">TBD</td><td style="text-align:center;"><span class="grade gb">B</span></td><td><span class="tag tag-rust">RUST</span></td></tr>
<tr style="border-bottom:1px solid rgba(255,255,255,0.04);"><td style="padding:10px 12px;font-size:13px;color:rgba(255,255,255,0.5);">7:00</td><td><span class="tag" style="background:rgba(50,100,200,0.2);color:#5588EE;">NHL</span></td><td style="padding:10px;font-size:14px;">PHI @ WSH</td><td style="padding:10px;font-size:13px;color:rgba(255,255,255,0.5);">TBD</td><td style="text-align:center;"><span class="grade gb">B</span></td><td><span class="tag tag-rust">RUST</span></td></tr>
<tr style="border-bottom:1px solid rgba(255,255,255,0.04);"><td style="padding:10px 12px;font-size:13px;color:rgba(255,255,255,0.5);">7:30</td><td><span class="tag" style="background:rgba(200,50,50,0.2);color:#E25555;">NBA</span></td><td style="padding:10px;font-size:14px;"><strong>OKC @ DET</strong></td><td style="padding:10px;font-size:13px;color:#D4A017;">DET -7.5</td><td style="text-align:center;"><span class="grade gbp">B+</span></td><td><span class="tag tag-b2b">B2B</span></td></tr>
<tr style="border-bottom:1px solid rgba(255,255,255,0.04);"><td style="padding:10px 12px;font-size:13px;color:rgba(255,255,255,0.5);">7:30</td><td><span class="tag" style="background:rgba(200,50,50,0.2);color:#E25555;">NBA</span></td><td style="padding:10px;font-size:14px;">SA @ TOR</td><td style="padding:10px;font-size:13px;color:#D4A017;">SA -6.5</td><td style="text-align:center;"><span class="grade gb">B</span></td><td><span class="tag tag-b2b">B2B</span></td></tr>
<tr style="border-bottom:1px solid rgba(255,255,255,0.04);"><td style="padding:10px 12px;font-size:13px;color:rgba(255,255,255,0.5);">7:30</td><td><span class="tag" style="background:rgba(200,50,50,0.2);color:#E25555;">NBA</span></td><td style="padding:10px;font-size:14px;">GS @ MEM</td><td style="padding:10px;font-size:13px;color:#D4A017;">GS -3.5</td><td style="text-align:center;"><span class="grade gc">C</span></td><td><span class="tag tag-b2b">B2B</span> <span class="tag tag-trap">LINE?</span></td></tr>
<tr style="border-bottom:1px solid rgba(255,255,255,0.04);"><td style="padding:10px 12px;font-size:13px;color:rgba(255,255,255,0.5);">7:30</td><td><span class="tag" style="background:rgba(50,100,200,0.2);color:#5588EE;">NHL</span></td><td style="padding:10px;font-size:14px;"><strong>TOR @ TBL</strong></td><td style="padding:10px;font-size:13px;color:rgba(255,255,255,0.5);">TBD</td><td style="text-align:center;"><span class="grade gbp">B+</span></td><td><span class="tag tag-rust">RUST</span></td></tr>
<tr style="border-bottom:1px solid rgba(255,255,255,0.04);"><td style="padding:10px 12px;font-size:13px;color:rgba(255,255,255,0.5);">8:00</td><td><span class="tag" style="background:rgba(200,50,50,0.2);color:#E25555;">NBA</span></td><td style="padding:10px;font-size:14px;"><strong>CLE @ MIL</strong></td><td style="padding:10px;font-size:13px;color:#D4A017;">CLE -9.5</td><td style="text-align:center;"><span class="grade gam">A-</span></td><td><span class="tag tag-b2b">B2B</span></td></tr>
<tr style="border-bottom:1px solid rgba(255,255,255,0.04);"><td style="padding:10px 12px;font-size:13px;color:rgba(255,255,255,0.5);">8:00</td><td><span class="tag" style="background:rgba(200,50,50,0.2);color:#E25555;">NBA</span></td><td style="padding:10px;font-size:14px;">SAC @ HOU</td><td style="padding:10px;font-size:13px;color:#D4A017;">HOU -14.5</td><td style="text-align:center;"><span class="grade gbp">B+</span></td><td><span class="tag tag-b2b">B2B</span> <span class="tag tag-trap">14.5!</span></td></tr>
<tr style="border-bottom:1px solid rgba(255,255,255,0.04);"><td style="padding:10px 12px;font-size:13px;color:rgba(255,255,255,0.5);">8:00</td><td><span class="tag" style="background:rgba(50,100,200,0.2);color:#5588EE;">NHL</span></td><td style="padding:10px;font-size:14px;">SEA @ DAL</td><td style="padding:10px;font-size:13px;color:rgba(255,255,255,0.5);">TBD</td><td style="text-align:center;"><span class="grade gb">B</span></td><td><span class="tag tag-rust">RUST</span></td></tr>
<tr style="border-bottom:1px solid rgba(255,255,255,0.04);"><td style="padding:10px 12px;font-size:13px;color:rgba(255,255,255,0.5);">9:00</td><td><span class="tag" style="background:rgba(50,100,200,0.2);color:#5588EE;">NHL</span></td><td style="padding:10px;font-size:14px;">COL @ UTA</td><td style="padding:10px;font-size:13px;color:rgba(255,255,255,0.5);">TBD</td><td style="text-align:center;"><span class="grade gbp">B+</span></td><td><span class="tag tag-rust">RUST</span></td></tr>
<tr style="border-bottom:1px solid rgba(255,255,255,0.04);"><td style="padding:10px 12px;font-size:13px;color:rgba(255,255,255,0.5);">10:00</td><td><span class="tag" style="background:rgba(200,50,50,0.2);color:#E25555;">NBA</span></td><td style="padding:10px;font-size:14px;">BOS @ DEN</td><td style="padding:10px;font-size:13px;color:#D4A017;">DEN -3.5</td><td style="text-align:center;"><span class="grade gb">B</span></td><td><span class="tag tag-b2b">B2B</span></td></tr>
<tr style="border-bottom:1px solid rgba(255,255,255,0.04);"><td style="padding:10px 12px;font-size:13px;color:rgba(255,255,255,0.5);">10:00</td><td><span class="tag" style="background:rgba(50,100,200,0.2);color:#5588EE;">NHL</span></td><td style="padding:10px;font-size:14px;">WPG @ VAN</td><td style="padding:10px;font-size:13px;color:rgba(255,255,255,0.5);">TBD</td><td style="text-align:center;"><span class="grade gb">B</span></td><td><span class="tag tag-rust">RUST</span></td></tr>
<tr style="border-bottom:1px solid rgba(255,255,255,0.04);"><td style="padding:10px 12px;font-size:13px;color:rgba(255,255,255,0.5);">10:00</td><td><span class="tag" style="background:rgba(50,100,200,0.2);color:#5588EE;">NHL</span></td><td style="padding:10px;font-size:14px;">VGK @ LAK</td><td style="padding:10px;font-size:13px;color:rgba(255,255,255,0.5);">TBD</td><td style="text-align:center;"><span class="grade gb">B</span></td><td><span class="tag tag-rust">RUST</span></td></tr>
<tr><td style="padding:10px 12px;font-size:13px;color:rgba(255,255,255,0.5);">10:30</td><td><span class="tag" style="background:rgba(50,100,200,0.2);color:#5588EE;">NHL</span></td><td style="padding:10px;font-size:14px;">EDM @ ANA</td><td style="padding:10px;font-size:13px;color:rgba(255,255,255,0.5);">TBD</td><td style="text-align:center;"><span class="grade gbp">B+</span></td><td><span class="tag tag-rust">RUST</span></td></tr>
</table>

</div>

<!-- ===== SUBMIT PICK PANEL ===== -->
<!-- ===== BANKROLL PANEL ===== -->
<div class="sport-panel" id="panel-bankroll">
<div class="pick-form">
    <h2 style="color:#D4A017;">Bankroll Tracker</h2>
    <div class="form-sub">Track every pick. Know where you stand.</div>

    <!-- Bankroll settings -->
    <div style="display:flex;gap:12px;margin:16px 0;">
        <div class="form-group" style="flex:1;">
            <label>Starting Bankroll ($)</label>
            <input type="number" id="bankrollStart" placeholder="1000" value="">
        </div>
        <div class="form-group" style="flex:1;">
            <label>Unit Size ($)</label>
            <input type="number" id="unitSize" placeholder="25" value="">
        </div>
        <div style="flex:0 0 auto;display:flex;align-items:flex-end;">
            <button class="submit-pick-btn" onclick="saveBankrollSettings()" style="padding:10px 20px;">Save</button>
        </div>
    </div>

    <!-- Summary cards -->
    <div style="display:grid;grid-template-columns:repeat(4,1fr);gap:10px;margin:16px 0;">
        <div style="background:#141428;border:1px solid #1e1e40;border-radius:8px;padding:14px;text-align:center;">
            <div style="color:rgba(255,255,255,0.5);font-size:11px;text-transform:uppercase;">Current Balance</div>
            <div id="brBalance" style="color:#D4A017;font-size:24px;font-weight:800;">$0</div>
        </div>
        <div style="background:#141428;border:1px solid #1e1e40;border-radius:8px;padding:14px;text-align:center;">
            <div style="color:rgba(255,255,255,0.5);font-size:11px;text-transform:uppercase;">Record (W-L-P)</div>
            <div id="brRecord" style="color:#fff;font-size:24px;font-weight:800;">0-0-0</div>
        </div>
        <div style="background:#141428;border:1px solid #1e1e40;border-radius:8px;padding:14px;text-align:center;">
            <div style="color:rgba(255,255,255,0.5);font-size:11px;text-transform:uppercase;">Net Units</div>
            <div id="brUnits" style="color:#fff;font-size:24px;font-weight:800;">0</div>
        </div>
        <div style="background:#141428;border:1px solid #1e1e40;border-radius:8px;padding:14px;text-align:center;">
            <div style="color:rgba(255,255,255,0.5);font-size:11px;text-transform:uppercase;">ROI</div>
            <div id="brROI" style="color:#fff;font-size:24px;font-weight:800;">0%</div>
        </div>
    </div>

    <!-- Per-person breakdown -->
    <div style="display:grid;grid-template-columns:repeat(3,1fr);gap:10px;margin:16px 0;">
        <div style="background:#141428;border:1px solid #2a2a5a;border-radius:8px;padding:12px;text-align:center;">
            <div style="color:#D4A017;font-weight:700;margin-bottom:4px;">Peter</div>
            <div id="brPeter" style="color:#fff;font-size:14px;">0-0-0 | 0u</div>
        </div>
        <div style="background:#141428;border:1px solid #2a2a5a;border-radius:8px;padding:12px;text-align:center;">
            <div style="color:#10B981;font-weight:700;margin-bottom:4px;">Chinny</div>
            <div id="brChinny" style="color:#fff;font-size:14px;">0-0-0 | 0u</div>
        </div>
        <div style="background:#141428;border:1px solid #2a2a5a;border-radius:8px;padding:12px;text-align:center;">
            <div style="color:#5588EE;font-weight:700;margin-bottom:4px;">Jimmy</div>
            <div id="brJimmy" style="color:#fff;font-size:14px;">0-0-0 | 0u</div>
        </div>
    </div>

    <!-- Pick results list -->
    <h3 style="margin-top:20px;color:#D4A017;">Pick Results</h3>
    <div style="color:rgba(255,255,255,0.4);font-size:12px;margin-bottom:8px;">Click W / L / P to grade each pick. Results save automatically.</div>
    <div id="bankrollPicks"></div>
</div>
</div>

<!-- ===== SUBMIT PICK PANEL ===== -->
<div class="sport-panel active" id="panel-submit">
<div class="pick-form">
    <h2>Submit Your Pick</h2>
    <div class="form-sub">Drop your pick. It saves locally and emails the crew.</div>

    <div class="form-group">
        <label>Your Name</label>
        <select id="pickName">
            <option value="">Select...</option>
            <option value="Peter">Peter</option>
            <option value="Chinny">Chinny</option>
            <option value="Jimmy">Jimmy</option>
        </select>
    </div>

    <div class="form-row">
        <div class="form-group">
            <label>Sport</label>
            <select id="pickSport">
                <option value="">Select...</option>
                <option value="NBA">NBA</option>
                <option value="NHL">NHL</option>
                <option value="NFL">NFL</option>
                <option value="MLB">MLB</option>
                <option value="Soccer">Soccer</option>
                <option value="MMA">MMA/UFC</option>
                <option value="Boxing">Boxing</option>
                <option value="Other">Other</option>
            </select>
        </div>
        <div class="form-group">
            <label>Pick Type</label>
            <select id="pickType">
                <option value="">Select...</option>
                <option value="Spread">Spread</option>
                <option value="Moneyline">Moneyline</option>
                <option value="Over/Under">Over/Under</option>
                <option value="Prop">Prop</option>
                <option value="Parlay">Parlay</option>
                <option value="Futures">Futures</option>
            </select>
        </div>
    </div>

    <div class="form-group">
        <label>Matchup</label>
        <select id="pickMatchup">
            <option value="">Select game...</option>
        </select>
        <input type="text" id="pickMatchupCustom" placeholder="Type matchup if not listed" style="display:none;margin-top:6px;">
    </div>

    <div class="form-group">
        <label>Your Pick</label>
        <select id="pickSelection">
            <option value="">Select a game first...</option>
        </select>
        <input type="text" id="pickSelectionCustom" placeholder="Type your pick (props, parlays, etc.)" style="display:none;margin-top:6px;">
    </div>

    <div class="form-row">
        <div class="form-group">
            <label>Odds</label>
            <select id="pickOdds">
                <option value="">Select...</option>
                <option value="-110">-110 (standard)</option>
                <option value="-115">-115</option>
                <option value="-120">-120</option>
                <option value="-130">-130</option>
                <option value="-140">-140</option>
                <option value="-150">-150</option>
                <option value="-160">-160</option>
                <option value="-170">-170</option>
                <option value="-180">-180</option>
                <option value="-200">-200</option>
                <option value="-250">-250</option>
                <option value="+100">+100 (even)</option>
                <option value="+110">+110</option>
                <option value="+120">+120</option>
                <option value="+130">+130</option>
                <option value="+140">+140</option>
                <option value="+150">+150</option>
                <option value="+175">+175</option>
                <option value="+200">+200</option>
                <option value="+250">+250</option>
                <option value="+300">+300</option>
                <option value="+400">+400</option>
                <option value="+500">+500</option>
                <option value="__other__">Other (type odds)</option>
            </select>
            <input type="text" id="pickOddsCustom" placeholder="e.g. -135, +225" style="display:none;margin-top:6px;">
        </div>
        <div class="form-group">
            <label>Units</label>
            <select id="pickUnits">
                <option value="1">1 unit</option>
                <option value="2">2 units</option>
                <option value="3">3 units</option>
                <option value="5">5 units (max)</option>
            </select>
        </div>
    </div>

    <div class="form-group">
        <label>Confidence</label>
        <div class="confidence-btns">
            <div class="conf-btn" onclick="setConf(this,'Lean')">Lean</div>
            <div class="conf-btn" onclick="setConf(this,'Strong')">Strong</div>
            <div class="conf-btn" onclick="setConf(this,'Fire')">Fire</div>
        </div>
    </div>

    <div class="form-group">
        <label>Notes (optional)</label>
        <textarea id="pickNotes" placeholder="Why this pick? Edge? Gut?"></textarea>
    </div>

    <div style="display:flex;gap:8px;">
        <button class="submit-pick-btn" onclick="submitPick()" style="flex:1;">Lock This Pick</button>
        <button class="submit-pick-btn" onclick="addParlayLeg()" style="flex:1;background:#1a1a3a !important;border:1px solid #D4A017 !important;color:#D4A017 !important;">+ Add Leg</button>
    </div>

    <div id="parlayBuilder" style="display:none;margin-top:16px;background:#1a1a2a;border:1px solid #D4A017;border-radius:10px;padding:16px;">
        <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:12px;">
            <h3 style="color:#D4A017;margin:0;font-size:16px;">Parlay Builder</h3>
            <span id="parlayOdds" style="color:#D4A017;font-weight:800;font-size:18px;"></span>
        </div>
        <div id="parlayLegs"></div>
        <div style="display:flex;gap:8px;margin-top:12px;">
            <button class="submit-pick-btn" onclick="submitParlay()" style="flex:1;background:#D4A017 !important;color:#0D0D1A !important;font-weight:800;">Lock Parlay</button>
            <button class="submit-pick-btn" onclick="clearParlay()" style="flex:0 0 auto;background:transparent !important;border:1px solid #EF4444 !important;color:#EF4444 !important;padding:8px 16px;">Clear</button>
        </div>
    </div>

    <div class="pick-history" id="pickHistory">
        <h3>Today's Submitted Picks</h3>
        <div id="pickList"></div>
    </div>
</div>
</div>

</div>

<div class="toast" id="toast">Pick locked!</div>

<div class="footer">
    Edge Finder by Sinton.ia | Crew Dashboard | No edge = no bet<br>
    Peter (games + upsets) | Chinny (props + NHL + soccer) | Jimmy (places on Hard Rock)<br>
    Sweep → Gotcha → Trends → Card → Peter picks → Chinny picks → Lock
</div>

<!-- SUBMIT BAR -->
<div class="submit-bar" id="submitBar">
    <div class="submit-count"><strong id="pickCount">0</strong> games on card</div>
    <button class="submit-btn" onclick="lockCard()">Lock Card</button>
</div>

<!-- MODAL -->
<div class="modal-overlay" id="modalOverlay" onclick="if(event.target===this)closeModal()">
    <div class="modal">
        <h2>Locked Card</h2>
        <div class="modal-sub">Feb 25, 2026 — Edge Finder Crew</div>
        <table id="modalTable">
            <thead>
                <tr><th>#</th><th>Game</th><th>Side</th></tr>
            </thead>
            <tbody id="modalBody"></tbody>
        </table>
        <button class="modal-close" onclick="closeModal()">Close</button>
    </div>
</div>

<script>
// State tracking
var picks = {}; // { gameName: { checked: bool, side: string } }

function refreshSlate() {
    // Reset all game row checks and side picks
    picks = {};
    document.querySelectorAll('.pick-check').forEach(function(el) { el.classList.remove('on'); });
    document.querySelectorAll('.game-row').forEach(function(el) { el.classList.remove('checked', 'expanded'); });
    document.querySelectorAll('.side-btn').forEach(function(el) { el.classList.remove('picked'); });

    // Reset submit form
    document.getElementById('pickName').value = '';
    document.getElementById('pickSport').value = '';
    document.getElementById('pickType').value = '';
    document.getElementById('pickMatchup').value = '';
    document.getElementById('pickMatchupCustom').value = '';
    document.getElementById('pickMatchupCustom').style.display = 'none';
    document.getElementById('pickSelection').value = '';
    document.getElementById('pickSelectionCustom').value = '';
    document.getElementById('pickSelectionCustom').style.display = 'none';
    document.getElementById('pickOdds').value = '';
    document.getElementById('pickOddsCustom').value = '';
    document.getElementById('pickOddsCustom').style.display = 'none';
    document.getElementById('pickNotes').value = '';
    document.getElementById('pickUnits').value = '1';
    document.querySelectorAll('.conf-btn').forEach(function(b) { b.classList.remove('active'); });
    selectedConf = '';

    // Re-populate dropdowns
    populateGameDropdown();
    populatePickDropdown();

    // Update submit bar
    updateSubmitBar();

    // Toast
    var toast = document.getElementById('toast');
    toast.textContent = 'Slate refreshed!';
    toast.classList.add('show');
    setTimeout(function() { toast.classList.remove('show'); }, 2000);
}

function togglePick(event, el, gameName) {
    event.stopPropagation();
    var isOn = el.classList.toggle('on');
    var row = el.closest('.game-row');
    if (isOn) {
        row.classList.add('checked');
        if (!picks[gameName]) picks[gameName] = {};
        picks[gameName].checked = true;
    } else {
        row.classList.remove('checked');
        if (picks[gameName]) picks[gameName].checked = false;
    }
    updateSubmitBar();
}

function pickSide(event, el, side) {
    event.stopPropagation();
    var row = el.closest('.game-row');
    var gameName = row.getAttribute('data-game');
    // Clear other side buttons in same game
    var btns = row.querySelectorAll('.side-btn');
    btns.forEach(function(b) { b.classList.remove('picked'); });
    el.classList.add('picked');
    if (!picks[gameName]) picks[gameName] = {};
    picks[gameName].side = side;
    // Auto-check the game if not already checked
    var check = row.querySelector('.pick-check');
    if (!check.classList.contains('on')) {
        check.classList.add('on');
        row.classList.add('checked');
        picks[gameName].checked = true;
        updateSubmitBar();
    }
}

function updateSubmitBar() {
    var count = 0;
    for (var g in picks) {
        if (picks[g].checked) count++;
    }
    document.getElementById('pickCount').textContent = count;
    var bar = document.getElementById('submitBar');
    if (count > 0) {
        bar.classList.add('visible');
    } else {
        bar.classList.remove('visible');
    }
}

function lockCard() {
    var body = document.getElementById('modalBody');
    body.innerHTML = '';
    var n = 0;
    for (var g in picks) {
        if (!picks[g].checked) continue;
        n++;
        var tr = document.createElement('tr');
        var td1 = document.createElement('td');
        td1.textContent = n;
        var td2 = document.createElement('td');
        td2.textContent = g;
        var td3 = document.createElement('td');
        td3.textContent = picks[g].side || '—';
        td3.style.color = picks[g].side ? '#D4A017' : 'rgba(255,255,255,0.3)';
        td3.style.fontWeight = '700';
        tr.appendChild(td1);
        tr.appendChild(td2);
        tr.appendChild(td3);
        body.appendChild(tr);
    }
    document.getElementById('modalOverlay').classList.add('show');
}

function closeModal() {
    document.getElementById('modalOverlay').classList.remove('show');
}

function switchSport(sport) {
    document.querySelectorAll('.sport-tab').forEach(function(t) { t.classList.remove('active'); });
    document.querySelectorAll('.sport-panel').forEach(function(p) { p.classList.remove('active'); });
    document.getElementById('panel-' + sport).classList.add('active');
    event.target.closest('.sport-tab').classList.add('active');
}

// ===== SUBMIT PICK FORM =====
var selectedConf = '';

function populateGameDropdown() {
    var select = document.getElementById('pickMatchup');
    var sport = document.getElementById('pickSport').value;
    select.innerHTML = '<option value="">Select game...</option>';

    var games = document.querySelectorAll('.game-row[data-game]');
    var added = [];

    games.forEach(function(row) {
        var game = row.getAttribute('data-game');
        if (!game || added.indexOf(game) !== -1) return;

        var sportTag = row.querySelector('.tag');
        var gameSport = sportTag ? sportTag.textContent.trim() : '';

        if (!sport || gameSport === sport) {
            var opt = document.createElement('option');
            opt.value = game;
            opt.textContent = (gameSport && sport !== gameSport ? gameSport + ' — ' : '') + game;
            select.appendChild(opt);
            added.push(game);
        }
    });

    // Also pull from table rows (NHL etc)
    document.querySelectorAll('table tr').forEach(function(tr) {
        var cells = tr.querySelectorAll('td');
        if (cells.length >= 3) {
            var tagEl = cells[1] ? cells[1].querySelector('.tag') : null;
            var rowSport = tagEl ? tagEl.textContent.trim() : '';
            var matchup = cells[2] ? cells[2].textContent.trim() : '';
            if (matchup && matchup.indexOf('@') !== -1 && added.indexOf(matchup) === -1) {
                if (!sport || rowSport === sport) {
                    var opt = document.createElement('option');
                    opt.value = matchup;
                    opt.textContent = (rowSport && sport !== rowSport ? rowSport + ' — ' : '') + matchup;
                    select.appendChild(opt);
                    added.push(matchup);
                }
            }
        }
    });

    var other = document.createElement('option');
    other.value = '__other__';
    other.textContent = 'Other (type manually)';
    select.appendChild(other);
}

document.getElementById('pickSport').addEventListener('change', function() {
    populateGameDropdown();
    populatePickDropdown();
});
document.getElementById('pickMatchup').addEventListener('change', function() {
    var custom = document.getElementById('pickMatchupCustom');
    if (this.value === '__other__') {
        custom.style.display = 'block';
        custom.focus();
    } else {
        custom.style.display = 'none';
        custom.value = '';
    }
    populatePickDropdown();
});

// Store live odds keyed by matchup -> pick -> odds
var liveOddsMap = {};

function populatePickDropdown() {
    var select = document.getElementById('pickSelection');
    var matchup = document.getElementById('pickMatchup').value;
    var pickType = document.getElementById('pickType').value;
    select.innerHTML = '<option value="">Select pick...</option>';

    var isProp = (pickType === 'Prop');
    var customInput = document.getElementById('pickSelectionCustom');

    if (isProp) {
        // Props are player-specific — show text input, hide dropdown options
        select.innerHTML = '<option value="__other__">Type your prop below</option>';
        customInput.style.display = 'block';
        customInput.placeholder = 'e.g. Donovan Mitchell O 24.5 pts, Jokic O 10.5 reb';
        return;
    } else {
        customInput.style.display = 'none';
    }

    if (matchup && matchup !== '__other__') {
        var gameRow = document.querySelector('.game-row[data-game="' + matchup + '"]');
        if (gameRow) {
            var sides = gameRow.querySelectorAll('.side-btn');
            sides.forEach(function(btn) {
                var sideText = btn.getAttribute('onclick');
                var match = sideText ? sideText.match(/'([^']+)'\)$/) : null;
                var val = match ? match[1] : btn.textContent.trim();

                // Filter by pick type
                var isSpread = val.indexOf('+') !== -1 || val.indexOf('-') !== -1;
                var isOU = val.indexOf('OVER') !== -1 || val.indexOf('UNDER') !== -1;
                var isML = val.indexOf('ML') !== -1;

                if (pickType === 'Spread' && !isSpread) return;
                if (pickType === 'Over/Under' && !isOU) return;
                if (pickType === 'Moneyline' && !isML) return;
                // No filter for Parlay, Futures, or empty — show all

                var opt = document.createElement('option');
                opt.value = val;
                opt.textContent = val;
                var oddsVal = (liveOddsMap[matchup] && liveOddsMap[matchup][val]) ? liveOddsMap[matchup][val] : '';
                if (oddsVal) {
                    opt.setAttribute('data-odds', oddsVal);
                    opt.textContent = val + ' (' + (oddsVal > 0 ? '+' : '') + oddsVal + ')';
                }
                select.appendChild(opt);
            });
        }
        document.querySelectorAll('table tr').forEach(function(tr) {
            var cells = tr.querySelectorAll('td');
            if (cells.length >= 3) {
                var rowMatchup = cells[2] ? cells[2].textContent.trim() : '';
                if (rowMatchup === matchup && cells[3]) {
                    var spread = cells[3].textContent.trim();
                    if (spread && spread !== 'TBD') {
                        var opt = document.createElement('option');
                        var val = rowMatchup.split(' @ ')[0] + ' ' + spread;
                        opt.value = val;
                        opt.textContent = val;
                        select.appendChild(opt);
                    }
                }
            }
        });
    }

    var other = document.createElement('option');
    other.value = '__other__';
    other.textContent = 'Other (type manually)';
    select.appendChild(other);
}

document.getElementById('pickSelection').addEventListener('change', function() {
    var custom = document.getElementById('pickSelectionCustom');
    if (this.value === '__other__') {
        custom.style.display = 'block';
        custom.focus();
    } else {
        custom.style.display = 'none';
        custom.value = '';
        // Auto-select odds from the pick's data-odds attribute
        var selectedOption = this.options[this.selectedIndex];
        var oddsVal = selectedOption ? selectedOption.getAttribute('data-odds') : null;
        if (oddsVal) {
            var oddsSelect = document.getElementById('pickOdds');
            var found = false;
            for (var i = 0; i < oddsSelect.options.length; i++) {
                if (oddsSelect.options[i].value === oddsVal || oddsSelect.options[i].value === '+' + oddsVal) {
                    oddsSelect.value = oddsSelect.options[i].value;
                    found = true;
                    break;
                }
            }
            // If exact match not in dropdown, set to Other and fill custom
            if (!found) {
                oddsSelect.value = '__other__';
                var oddsCustom = document.getElementById('pickOddsCustom');
                oddsCustom.style.display = 'block';
                oddsCustom.value = (oddsVal > 0 ? '+' : '') + oddsVal;
            } else {
                document.getElementById('pickOddsCustom').style.display = 'none';
                document.getElementById('pickOddsCustom').value = '';
            }
        }
    }
});

document.getElementById('pickType').addEventListener('change', populatePickDropdown);

document.getElementById('pickOdds').addEventListener('change', function() {
    var custom = document.getElementById('pickOddsCustom');
    if (this.value === '__other__') {
        custom.style.display = 'block';
        custom.focus();
    } else {
        custom.style.display = 'none';
        custom.value = '';
    }
});

// Populate on load
populateGameDropdown();

function setConf(el, level) {
    document.querySelectorAll('.conf-btn').forEach(function(b) { b.classList.remove('active'); });
    el.classList.add('active');
    selectedConf = level;
}

function submitPick() {
    var name = document.getElementById('pickName').value;
    var sport = document.getElementById('pickSport').value;
    var type = document.getElementById('pickType').value;
    var matchupVal = document.getElementById('pickMatchup').value;
    var matchup = matchupVal === '__other__' ? document.getElementById('pickMatchupCustom').value : matchupVal;
    var selVal = document.getElementById('pickSelection').value;
    var selection = selVal === '__other__' ? document.getElementById('pickSelectionCustom').value : selVal;
    var oddsVal = document.getElementById('pickOdds').value;
    var odds = oddsVal === '__other__' ? document.getElementById('pickOddsCustom').value : oddsVal;
    var units = document.getElementById('pickUnits').value;
    var notes = document.getElementById('pickNotes').value;

    if (!name || !sport || !matchup || !selection) {
        alert('Fill in name, sport, matchup, and your pick.');
        return;
    }

    var pick = {
        name: name,
        sport: sport,
        type: type || 'Spread',
        matchup: matchup,
        selection: selection,
        odds: odds || 'N/A',
        units: units,
        confidence: selectedConf || 'Lean',
        notes: notes,
        date: new Date().toLocaleDateString(),
        time: new Date().toLocaleTimeString()
    };

    // Save to localStorage
    var stored = JSON.parse(localStorage.getItem('edgePicks') || '[]');
    stored.unshift(pick);
    localStorage.setItem('edgePicks', JSON.stringify(stored));

    // Build email body
    var body = 'Name: ' + pick.name + '%0A' +
        'Sport: ' + pick.sport + '%0A' +
        'Type: ' + pick.type + '%0A' +
        'Matchup: ' + pick.matchup + '%0A' +
        'Pick: ' + pick.selection + '%0A' +
        'Odds: ' + pick.odds + '%0A' +
        'Units: ' + pick.units + '%0A' +
        'Confidence: ' + pick.confidence + '%0A' +
        'Notes: ' + (pick.notes || 'None') + '%0A' +
        'Submitted: ' + pick.date + ' ' + pick.time;
    var subject = 'Edge Crew Pick | ' + pick.name + ' | ' + pick.sport + ' | ' + pick.matchup;
    window.open('mailto:gcesintonia@gmail.com?subject=' + encodeURIComponent(subject) + '&body=' + body);

    // Show toast
    var toast = document.getElementById('toast');
    toast.textContent = pick.name + "'s pick locked!";
    toast.classList.add('show');
    setTimeout(function() { toast.classList.remove('show'); }, 2500);

    // Reset form
    document.getElementById('pickMatchup').value = '';
    document.getElementById('pickMatchupCustom').value = '';
    document.getElementById('pickMatchupCustom').style.display = 'none';
    document.getElementById('pickSelection').value = '';
    document.getElementById('pickSelectionCustom').value = '';
    document.getElementById('pickSelectionCustom').style.display = 'none';
    document.getElementById('pickOdds').value = '';
    document.getElementById('pickOddsCustom').value = '';
    document.getElementById('pickOddsCustom').style.display = 'none';
    document.getElementById('pickNotes').value = '';
    populatePickDropdown();
    document.querySelectorAll('.conf-btn').forEach(function(b) { b.classList.remove('active'); });
    selectedConf = '';

    renderPicks();
}

// ===== BANKROLL TRACKER =====
function saveBankrollSettings() {
    var start = document.getElementById('bankrollStart').value || 1000;
    var unit = document.getElementById('unitSize').value || 25;
    localStorage.setItem('edgeBankrollStart', start);
    localStorage.setItem('edgeUnitSize', unit);
    renderBankroll();
    var toast = document.getElementById('toast');
    toast.textContent = 'Bankroll set: $' + start + ' / $' + unit + ' per unit';
    toast.classList.add('show');
    setTimeout(function() { toast.classList.remove('show'); }, 2000);
}

function gradePick(index, result) {
    var stored = JSON.parse(localStorage.getItem('edgePicks') || '[]');
    if (stored[index]) {
        stored[index].result = result;
        localStorage.setItem('edgePicks', JSON.stringify(stored));
        renderBankroll();
    }
}

function calcPayout(odds, units) {
    var o = parseInt(odds);
    var u = parseFloat(units) || 1;
    if (!o) return 0;
    if (o > 0) return (o / 100) * u;
    else return (100 / Math.abs(o)) * u;
}

function renderBankroll() {
    var stored = JSON.parse(localStorage.getItem('edgePicks') || '[]');
    var startBR = parseFloat(localStorage.getItem('edgeBankrollStart') || '1000');
    var unitSize = parseFloat(localStorage.getItem('edgeUnitSize') || '25');

    document.getElementById('bankrollStart').value = startBR;
    document.getElementById('unitSize').value = unitSize;

    var wins = 0, losses = 0, pushes = 0, netUnits = 0;
    var personStats = {Peter:{w:0,l:0,p:0,u:0},Chinny:{w:0,l:0,p:0,u:0},Jimmy:{w:0,l:0,p:0,u:0}};

    stored.forEach(function(pick) {
        if (!pick.result) return;
        var units = parseFloat(pick.units) || 1;
        var person = personStats[pick.name] || {w:0,l:0,p:0,u:0};

        if (pick.result === 'W') {
            wins++;
            var payout = calcPayout(pick.odds, units);
            netUnits += payout;
            person.w++;
            person.u += payout;
        } else if (pick.result === 'L') {
            losses++;
            netUnits -= units;
            person.l++;
            person.u -= units;
        } else if (pick.result === 'P') {
            pushes++;
            person.p++;
        }

        if (personStats[pick.name]) personStats[pick.name] = person;
    });

    var balance = startBR + (netUnits * unitSize);
    var totalRisked = stored.filter(function(p) { return p.result === 'W' || p.result === 'L'; }).reduce(function(sum, p) { return sum + (parseFloat(p.units) || 1); }, 0);
    var roi = totalRisked > 0 ? ((netUnits / totalRisked) * 100).toFixed(1) : 0;

    document.getElementById('brBalance').textContent = '$' + balance.toFixed(0);
    document.getElementById('brBalance').style.color = balance >= startBR ? '#10B981' : '#EF4444';
    document.getElementById('brRecord').textContent = wins + '-' + losses + '-' + pushes;
    document.getElementById('brUnits').textContent = (netUnits >= 0 ? '+' : '') + netUnits.toFixed(1) + 'u';
    document.getElementById('brUnits').style.color = netUnits >= 0 ? '#10B981' : '#EF4444';
    document.getElementById('brROI').textContent = (roi >= 0 ? '+' : '') + roi + '%';
    document.getElementById('brROI').style.color = roi >= 0 ? '#10B981' : '#EF4444';

    for (var name in personStats) {
        var s = personStats[name];
        var el = document.getElementById('br' + name);
        if (el) {
            el.textContent = s.w + '-' + s.l + '-' + s.p + ' | ' + (s.u >= 0 ? '+' : '') + s.u.toFixed(1) + 'u';
            el.style.color = s.u >= 0 ? '#10B981' : '#EF4444';
        }
    }

    // Render grading list
    var container = document.getElementById('bankrollPicks');
    container.innerHTML = '';
    stored.forEach(function(pick, i) {
        var div = document.createElement('div');
        div.style.cssText = 'display:flex;align-items:center;gap:10px;padding:10px 0;border-bottom:1px solid rgba(255,255,255,0.08);';

        var graded = pick.result || '';
        var wClass = graded === 'W' ? 'background:#10B981;color:#fff;' : 'background:transparent;border:1px solid #10B981;color:#10B981;';
        var lClass = graded === 'L' ? 'background:#EF4444;color:#fff;' : 'background:transparent;border:1px solid #EF4444;color:#EF4444;';
        var pClass = graded === 'P' ? 'background:#D4A017;color:#fff;' : 'background:transparent;border:1px solid #D4A017;color:#D4A017;';
        var btnStyle = 'cursor:pointer;padding:4px 10px;border-radius:4px;font-weight:700;font-size:12px;';

        div.innerHTML =
            '<div style="flex:1;">' +
                '<div style="color:#fff;font-weight:600;">' + (pick.selection || pick.matchup) + '</div>' +
                '<div style="color:rgba(255,255,255,0.4);font-size:12px;">' +
                    pick.name + ' | ' + (pick.sport || '?') + ' | ' + (pick.matchup || '') + ' | ' + (pick.odds || '') + ' | ' + (pick.units || 1) + 'u' +
                    (pick.type === 'Parlay' || (pick.legs && pick.legs.length) ? ' | PARLAY' : '') +
                '</div>' +
                '<div style="color:rgba(255,255,255,0.3);font-size:11px;">' + (pick.date || '') + ' ' + (pick.time || '') + '</div>' +
            '</div>' +
            '<div style="display:flex;gap:4px;">' +
                '<div style="' + btnStyle + wClass + '" onclick="gradePick(' + i + ',\'W\')">W</div>' +
                '<div style="' + btnStyle + lClass + '" onclick="gradePick(' + i + ',\'L\')">L</div>' +
                '<div style="' + btnStyle + pClass + '" onclick="gradePick(' + i + ',\'P\')">P</div>' +
            '</div>';

        container.appendChild(div);
    });

    if (stored.length === 0) {
        container.innerHTML = '<div style="color:rgba(255,255,255,0.3);text-align:center;padding:20px;">No picks yet. Submit picks and grade them here.</div>';
    }
}

// Load bankroll on page load
renderBankroll();

// ===== GOTCHA CARD =====
function toggleGotchaEdit() {
    var display = document.getElementById('gotchaDisplay');
    var editor = document.getElementById('gotchaEditor');
    if (editor.style.display === 'none') {
        // Switch to edit mode — pull current notes into textarea
        var items = display.querySelectorAll('li');
        var lines = [];
        items.forEach(function(li) { lines.push(li.textContent.trim()); });
        editor.value = lines.join('\n');
        editor.style.display = 'block';
        display.style.display = 'none';
        editor.focus();
    } else {
        editor.style.display = 'none';
        display.style.display = 'block';
    }
}

function saveGotcha() {
    var editor = document.getElementById('gotchaEditor');
    var display = document.getElementById('gotchaDisplay');
    var text = editor.value.trim();
    if (!text) return;

    var lines = text.split('\n').filter(function(l) { return l.trim(); });
    var html = '<ul>';
    lines.forEach(function(line) {
        html += '<li>' + line.trim() + '</li>';
    });
    html += '</ul>';
    display.innerHTML = html;

    // Save to localStorage
    localStorage.setItem('edgeGotchaNBA', text);

    editor.style.display = 'none';
    display.style.display = 'block';

    var toast = document.getElementById('toast');
    toast.textContent = 'Gotcha card updated!';
    toast.classList.add('show');
    setTimeout(function() { toast.classList.remove('show'); }, 2000);
}

// Load saved gotcha on page load
(function() {
    var saved = localStorage.getItem('edgeGotchaNBA');
    if (saved) {
        var display = document.getElementById('gotchaDisplay');
        var lines = saved.split('\n').filter(function(l) { return l.trim(); });
        var html = '<ul>';
        lines.forEach(function(line) { html += '<li>' + line.trim() + '</li>'; });
        html += '</ul>';
        display.innerHTML = html;
    }
})();

// ===== PARLAY BUILDER =====
var parlayLegs = [];

function addParlayLeg() {
    var sport = document.getElementById('pickSport').value;
    var type = document.getElementById('pickType').value;
    var matchupVal = document.getElementById('pickMatchup').value;
    var matchup = matchupVal === '__other__' ? document.getElementById('pickMatchupCustom').value : matchupVal;
    var selVal = document.getElementById('pickSelection').value;
    var selection = selVal === '__other__' ? document.getElementById('pickSelectionCustom').value : selVal;
    var oddsVal = document.getElementById('pickOdds').value;
    var odds = oddsVal === '__other__' ? document.getElementById('pickOddsCustom').value : oddsVal;

    if (!matchup || !selection) {
        alert('Pick a game and a side first.');
        return;
    }

    parlayLegs.push({
        sport: sport || '?',
        type: type || 'Spread',
        matchup: matchup,
        selection: selection,
        odds: odds || '-110',
    });

    renderParlayLegs();

    // Reset pick fields but keep name and sport
    document.getElementById('pickMatchup').value = '';
    document.getElementById('pickMatchupCustom').value = '';
    document.getElementById('pickMatchupCustom').style.display = 'none';
    document.getElementById('pickSelection').innerHTML = '<option value="">Select pick...</option>';
    document.getElementById('pickSelectionCustom').value = '';
    document.getElementById('pickSelectionCustom').style.display = 'none';
    document.getElementById('pickOdds').value = '';
    document.getElementById('pickOddsCustom').value = '';
    document.getElementById('pickOddsCustom').style.display = 'none';

    // Toast
    var toast = document.getElementById('toast');
    toast.textContent = 'Leg ' + parlayLegs.length + ' added: ' + selection;
    toast.classList.add('show');
    setTimeout(function() { toast.classList.remove('show'); }, 2000);
}

function renderParlayLegs() {
    var builder = document.getElementById('parlayBuilder');
    var container = document.getElementById('parlayLegs');

    if (parlayLegs.length === 0) {
        builder.style.display = 'none';
        return;
    }

    builder.style.display = 'block';
    container.innerHTML = '';

    parlayLegs.forEach(function(leg, i) {
        var div = document.createElement('div');
        div.style.cssText = 'display:flex;justify-content:space-between;align-items:center;padding:8px 0;border-bottom:1px solid rgba(255,255,255,0.1);';
        div.innerHTML = '<div style="flex:1;">' +
            '<span style="color:#D4A017;font-weight:700;">Leg ' + (i+1) + '</span> ' +
            '<span style="color:rgba(255,255,255,0.5);font-size:12px;">' + leg.sport + ' — ' + leg.matchup + '</span><br>' +
            '<span style="color:#fff;font-weight:600;">' + leg.selection + '</span> ' +
            '<span style="color:rgba(255,255,255,0.4);">(' + leg.odds + ')</span>' +
            '</div>' +
            '<div style="cursor:pointer;color:#EF4444;padding:4px 8px;font-size:18px;" onclick="removeParlayLeg(' + i + ')">×</div>';
        container.appendChild(div);
    });

    // Calculate combined odds
    var combinedDecimal = 1;
    parlayLegs.forEach(function(leg) {
        var o = parseInt(leg.odds);
        if (!o) return;
        var decimal;
        if (o > 0) {
            decimal = (o / 100) + 1;
        } else {
            decimal = (100 / Math.abs(o)) + 1;
        }
        combinedDecimal *= decimal;
    });

    var combinedAmerican;
    if (combinedDecimal >= 2) {
        combinedAmerican = '+' + Math.round((combinedDecimal - 1) * 100);
    } else {
        combinedAmerican = '-' + Math.round(100 / (combinedDecimal - 1));
    }

    document.getElementById('parlayOdds').textContent = parlayLegs.length + ' legs — ' + combinedAmerican;
}

function removeParlayLeg(index) {
    parlayLegs.splice(index, 1);
    renderParlayLegs();
}

function clearParlay() {
    parlayLegs = [];
    renderParlayLegs();
}

function submitParlay() {
    if (parlayLegs.length < 2) {
        alert('Need at least 2 legs for a parlay.');
        return;
    }

    var name = document.getElementById('pickName').value;
    var units = document.getElementById('pickUnits').value;
    var notes = document.getElementById('pickNotes').value;

    if (!name) {
        alert('Pick your name first.');
        return;
    }

    // Calculate combined odds
    var combinedDecimal = 1;
    parlayLegs.forEach(function(leg) {
        var o = parseInt(leg.odds);
        if (!o) return;
        if (o > 0) combinedDecimal *= (o / 100) + 1;
        else combinedDecimal *= (100 / Math.abs(o)) + 1;
    });
    var combinedAmerican;
    if (combinedDecimal >= 2) combinedAmerican = '+' + Math.round((combinedDecimal - 1) * 100);
    else combinedAmerican = '-' + Math.round(100 / (combinedDecimal - 1));

    var legSummary = parlayLegs.map(function(l, i) {
        return 'Leg ' + (i+1) + ': ' + l.matchup + ' — ' + l.selection + ' (' + l.odds + ')';
    }).join('%0A');

    var pick = {
        name: name,
        sport: 'PARLAY',
        type: 'Parlay (' + parlayLegs.length + ' legs)',
        matchup: parlayLegs.map(function(l) { return l.matchup; }).join(' + '),
        selection: parlayLegs.map(function(l) { return l.selection; }).join(' / '),
        odds: combinedAmerican,
        units: units,
        confidence: selectedConf || 'Lean',
        notes: notes,
        date: new Date().toLocaleDateString(),
        time: new Date().toLocaleTimeString(),
        legs: parlayLegs.slice(),
    };

    // Save to localStorage
    var stored = JSON.parse(localStorage.getItem('edgePicks') || '[]');
    stored.unshift(pick);
    localStorage.setItem('edgePicks', JSON.stringify(stored));

    // Email
    var body = 'Name: ' + pick.name + '%0A' +
        'Type: PARLAY (' + parlayLegs.length + ' legs)%0A' +
        'Combined Odds: ' + combinedAmerican + '%0A' +
        'Units: ' + pick.units + '%0A' +
        'Confidence: ' + pick.confidence + '%0A' +
        '———————————%0A' +
        legSummary + '%0A' +
        '———————————%0A' +
        'Notes: ' + (pick.notes || 'None') + '%0A' +
        'Submitted: ' + pick.date + ' ' + pick.time;
    var subject = 'Edge Crew PARLAY | ' + pick.name + ' | ' + parlayLegs.length + ' legs | ' + combinedAmerican;
    window.open('mailto:gcesintonia@gmail.com?subject=' + encodeURIComponent(subject) + '&body=' + body);

    // Toast
    var toast = document.getElementById('toast');
    toast.textContent = name + "'s " + parlayLegs.length + '-leg parlay locked! ' + combinedAmerican;
    toast.classList.add('show');
    setTimeout(function() { toast.classList.remove('show'); }, 3000);

    // Clear parlay
    parlayLegs = [];
    renderParlayLegs();

    // Reset form
    document.getElementById('pickNotes').value = '';
    document.querySelectorAll('.conf-btn').forEach(function(b) { b.classList.remove('active'); });
    selectedConf = '';

    renderPicks();
}

function renderPicks() {
    var stored = JSON.parse(localStorage.getItem('edgePicks') || '[]');
    var today = new Date().toLocaleDateString();
    var todayPicks = stored.filter(function(p) { return p.date === today; });
    var list = document.getElementById('pickList');
    if (!todayPicks.length) {
        list.innerHTML = '<div style="color:rgba(255,255,255,0.3);font-size:13px;padding:12px;">No picks submitted today yet.</div>';
        return;
    }
    list.innerHTML = '';
    todayPicks.forEach(function(p) {
        var confClass = p.confidence === 'Fire' ? 'fire' : p.confidence === 'Strong' ? 'strong' : 'lean';
        var card = document.createElement('div');
        card.className = 'pick-card';
        card.innerHTML = '<div><div class="pick-main">' + p.selection + '</div>' +
            '<div class="pick-meta">' + p.name + ' | ' + p.sport + ' | ' + p.matchup + ' | ' + p.odds + ' | ' + p.units + 'u</div></div>' +
            '<div class="pick-conf ' + confClass + '">' + p.confidence + '</div>';
        list.appendChild(card);
    });
}

// Load picks on page load
renderPicks();

// ===== LIVE ODDS FETCH =====
var teamAbbr = {
    "Atlanta Hawks":"ATL","Boston Celtics":"BOS","Brooklyn Nets":"BKN","Charlotte Hornets":"CHA",
    "Chicago Bulls":"CHI","Cleveland Cavaliers":"CLE","Dallas Mavericks":"DAL","Denver Nuggets":"DEN",
    "Detroit Pistons":"DET","Golden State Warriors":"GS","Houston Rockets":"HOU","Indiana Pacers":"IND",
    "Los Angeles Clippers":"LAC","Los Angeles Lakers":"LAL","Memphis Grizzlies":"MEM","Miami Heat":"MIA",
    "Milwaukee Bucks":"MIL","Minnesota Timberwolves":"MIN","New Orleans Pelicans":"NOP","New York Knicks":"NYK",
    "Oklahoma City Thunder":"OKC","Orlando Magic":"ORL","Philadelphia 76ers":"PHI","Phoenix Suns":"PHX",
    "Portland Trail Blazers":"POR","Sacramento Kings":"SAC","San Antonio Spurs":"SA","Toronto Raptors":"TOR",
    "Utah Jazz":"UTA","Washington Wizards":"WAS",
    "Anaheim Ducks":"ANA","Arizona Coyotes":"ARI","Boston Bruins":"BOS","Buffalo Sabres":"BUF",
    "Calgary Flames":"CGY","Carolina Hurricanes":"CAR","Chicago Blackhawks":"CHI","Colorado Avalanche":"COL",
    "Columbus Blue Jackets":"CBJ","Dallas Stars":"DAL","Detroit Red Wings":"DET","Edmonton Oilers":"EDM",
    "Florida Panthers":"FLA","Los Angeles Kings":"LAK","Minnesota Wild":"MIN","Montreal Canadiens":"MTL",
    "Nashville Predators":"NSH","New Jersey Devils":"NJD","New York Islanders":"NYI","New York Rangers":"NYR",
    "Ottawa Senators":"OTT","Philadelphia Flyers":"PHI","Pittsburgh Penguins":"PIT","San Jose Sharks":"SJS",
    "Seattle Kraken":"SEA","St. Louis Blues":"STL","Tampa Bay Lightning":"TBL","Toronto Maple Leafs":"TOR",
    "Utah Mammoth":"UTA","Vancouver Canucks":"VAN","Vegas Golden Knights":"VGK","Washington Capitals":"WSH",
    "Winnipeg Jets":"WPG"
};

function abbr(name) { return teamAbbr[name] || name.split(' ').pop().substring(0,3).toUpperCase(); }

function formatGameTime(isoTime) {
    var d = new Date(isoTime);
    var h = d.getHours();
    var m = d.getMinutes();
    var ampm = h >= 12 ? 'PM' : 'AM';
    h = h % 12 || 12;
    return h + ':' + (m < 10 ? '0' : '') + m + ' ' + ampm;
}

function buildGameRowHTML(g) {
    var awayAbbr = abbr(g.away);
    var homeAbbr = abbr(g.home);
    var matchup = awayAbbr + ' @ ' + homeAbbr;
    var spread = g.home_spread || 0;
    var spreadStr = (spread > 0 ? '+' : '') + spread;
    var awaySpreadStr = (g.away_spread > 0 ? '+' : '') + (g.away_spread || 0);
    var total = g.total || 0;
    var gameDate = new Date(g.time);
    var time = formatGameTime(g.time);
    var dateStr = gameDate.toLocaleDateString('en-US', {weekday:'short', month:'short', day:'numeric'});
    var awayML = g.away_ml || '';
    var homeML = g.home_ml || '';

    // Check if game is today
    var now = new Date();
    var isToday = gameDate.toDateString() === now.toDateString();
    var todayStyle = isToday ? 'border-left:3px solid #D4A017;background:rgba(212,160,23,0.04);' : 'border-left:3px solid transparent;opacity:0.75;';

    // Store odds in liveOddsMap for auto-select in form
    liveOddsMap[matchup] = {};
    liveOddsMap[matchup][awayAbbr + ' ' + awaySpreadStr] = g.away_spread_odds || -110;
    liveOddsMap[matchup][homeAbbr + ' ' + spreadStr] = g.home_spread_odds || -110;
    liveOddsMap[matchup]['OVER ' + total] = g.over_odds || -110;
    liveOddsMap[matchup]['UNDER ' + total] = g.under_odds || -110;
    liveOddsMap[matchup][awayAbbr + ' ML'] = awayML;
    liveOddsMap[matchup][homeAbbr + ' ML'] = homeML;

    var fav = '';
    if (spread < 0) fav = homeAbbr;
    else if (spread > 0) fav = awayAbbr;

    return '<div class="game-row" data-game="' + matchup + '" style="' + todayStyle + '" onclick="this.classList.toggle(\'expanded\')">' +
        '<div class="game-header">' +
            '<div class="pick-check" onclick="togglePick(event, this, \'' + matchup + '\')"></div>' +
            '<div class="game-time">' + dateStr + '<br>' + time + '</div>' +
            '<div class="game-matchup"><span class="away">' + awayAbbr + '</span> @ <span class="home">' + homeAbbr + '</span>' +
                '<div class="side-select">' +
                    '<div class="side-btn" onclick="pickSide(event,this,\'' + awayAbbr + ' ' + awaySpreadStr + '\')">' + awayAbbr + ' ' + awaySpreadStr + ' (' + (g.away_spread_odds||'-110') + ')</div>' +
                    '<div class="side-btn" onclick="pickSide(event,this,\'' + homeAbbr + ' ' + spreadStr + '\')">' + homeAbbr + ' ' + spreadStr + ' (' + (g.home_spread_odds||'-110') + ')</div>' +
                    '<div class="side-btn" onclick="pickSide(event,this,\'OVER ' + total + '\')">O ' + total + ' (' + (g.over_odds||'-110') + ')</div>' +
                    '<div class="side-btn" onclick="pickSide(event,this,\'UNDER ' + total + '\')">U ' + total + ' (' + (g.under_odds||'-110') + ')</div>' +
                    '<div class="side-btn" onclick="pickSide(event,this,\'' + awayAbbr + ' ML\')">' + awayAbbr + ' ML (' + awayML + ')</div>' +
                    '<div class="side-btn" onclick="pickSide(event,this,\'' + homeAbbr + ' ML\')">' + homeAbbr + ' ML (' + homeML + ')</div>' +
                '</div>' +
            '</div>' +
            '<div class="game-spread">' + (fav || homeAbbr) + ' ' + (spread < 0 ? spreadStr : awaySpreadStr) + '</div>' +
            '<div class="game-total">O/U ' + total + '</div>' +
            '<div class="game-grade"><span class="grade gbp">--</span></div>' +
            '<div class="game-edge">' +
                '<span class="tag" style="background:rgba(212,160,23,0.15);color:#D4A017;">HR BET</span> ' +
                'ML: ' + awayAbbr + ' (' + awayML + ') / ' + homeAbbr + ' (' + homeML + ')' +
            '</div>' +
        '</div>' +
        '<div class="game-detail">' +
            '<div class="detail-grid">' +
                '<div class="detail-box peter"><h4>Lines (Hard Rock)</h4>' +
                    '<p>Spread: ' + awayAbbr + ' ' + awaySpreadStr + ' (' + (g.away_spread_odds||'-110') + ') / ' + homeAbbr + ' ' + spreadStr + ' (' + (g.home_spread_odds||'-110') + ')<br>' +
                    'Total: O ' + total + ' (' + (g.over_odds||'-110') + ') / U ' + total + ' (' + (g.under_odds||'-110') + ')<br>' +
                    'ML: ' + awayAbbr + ' ' + awayML + ' / ' + homeAbbr + ' ' + homeML + '</p>' +
                '</div>' +
                '<div class="detail-box trends"><h4>Notes</h4><p>Live Hard Rock lines. Add your edge notes after analysis.</p></div>' +
            '</div>' +
        '</div>' +
    '</div>';
}

function fetchLiveOdds(sport) {
    var panel = document.getElementById('panel-' + sport);
    if (!panel) return;

    // Show loading
    var existingRows = panel.querySelectorAll('.game-row');
    var gotcha = panel.querySelector('.gotcha-banner');

    fetch('/api/odds/' + sport)
        .then(function(r) { return r.json(); })
        .then(function(data) {
            if (data.error) {
                console.error('API error:', data.error);
                return;
            }

            // Remove old game rows (keep gotcha banner if exists)
            existingRows.forEach(function(row) { row.remove(); });

            // Remove old "no games" message if any
            var noGames = panel.querySelector('.no-games');
            if (noGames) noGames.remove();

            if (!data.games || data.games.length === 0) {
                var msg = document.createElement('div');
                msg.className = 'no-games';
                msg.style.cssText = 'text-align:center;padding:40px;color:rgba(255,255,255,0.4);';
                msg.textContent = 'No ' + sport.toUpperCase() + ' games on the slate right now.';
                panel.appendChild(msg);
                return;
            }

            // Build new rows
            var html = '';
            data.games.forEach(function(g) {
                html += buildGameRowHTML(g);
            });

            // Insert after gotcha banner or at top
            var temp = document.createElement('div');
            temp.innerHTML = html;
            while (temp.firstChild) {
                panel.appendChild(temp.firstChild);
            }

            // Update tab count
            var tabs = document.querySelectorAll('.sport-tab');
            tabs.forEach(function(tab) {
                if (tab.textContent.indexOf(sport.toUpperCase()) === 0) {
                    var count = tab.querySelector('.tab-count');
                    if (count) count.textContent = data.games.length;
                }
            });

            // Re-populate form dropdowns
            populateGameDropdown();
            populatePickDropdown();

            // Update sweep time
            var sweepEl = document.querySelector('.sweep-time');
            if (sweepEl) {
                var now = new Date();
                sweepEl.innerHTML = 'Last sweep: ' + now.toLocaleTimeString() + '<br>Source: Hard Rock Bet (live)';
            }

            // Toast
            var toast = document.getElementById('toast');
            toast.textContent = sport.toUpperCase() + ' slate loaded — ' + data.games.length + ' games (Hard Rock Bet)';
            toast.classList.add('show');
            setTimeout(function() { toast.classList.remove('show'); }, 3000);
        })
        .catch(function(err) {
            console.error('Fetch error:', err);
        });
}

// Override refreshSlate to also fetch live data
var _originalRefreshSlate = refreshSlate;
refreshSlate = function() {
    _originalRefreshSlate();
    fetchLiveOdds('nba');
    fetchLiveOdds('nhl');
    fetchLiveOdds('soccer');
    fetchLiveOdds('mma');
    fetchLiveOdds('boxing');
};

// Fetch on demand only — click a sport tab or hit Refresh Slate
// No auto-fetch on load to save API credits and load time
var fetchedSports = {};
var _originalSwitchSport = switchSport;
switchSport = function(sport) {
    _originalSwitchSport(sport);
    // Auto-fetch when switching to a sport tab for the first time
    if (['nba','nhl','soccer','mma','boxing'].indexOf(sport) !== -1 && !fetchedSports[sport]) {
        fetchLiveOdds(sport);
        fetchedSports[sport] = true;
    }
};

// Remember last name selection
var lastName = localStorage.getItem('edgeCrewName');
if (lastName) document.getElementById('pickName').value = lastName;
document.getElementById('pickName').addEventListener('change', function() {
    localStorage.setItem('edgeCrewName', this.value);
});
</script>

</body>
</html>
